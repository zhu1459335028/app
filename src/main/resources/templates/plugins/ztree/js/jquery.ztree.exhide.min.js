(function(e){var s=function(x,B,A,v,z,w,y){if(typeof A.isHidden=="string"){A.isHidden=r.eqs(A.isHidden,"true")}A.isHidden=!!A.isHidden;t.initHideForExCheck(x,A)},a=function(w,x,v){},i=function(x,w){w.showNodes=function(y,z){h.showNodes(x,y,z)};w.showNode=function(z,y){if(!z){return}h.showNodes(x,[z],y)};w.hideNodes=function(y,z){h.hideNodes(x,y,z)};w.hideNode=function(z,y){if(!z){return}h.hideNodes(x,[z],y)};var v=w.checkNode;if(v){w.checkNode=function(A,z,B,y){if(!!A&&!!A.isHidden){return}v.apply(w,arguments)}}},k={initHideForExCheck:function(v,w){if(w.isHidden&&v.check&&v.check.enable){if(typeof w._nocheck=="undefined"){w._nocheck=!!w.nocheck;w.nocheck=true}w.check_Child_State=-1;if(h.repairParentChkClassWithSelf){h.repairParentChkClassWithSelf(v,w)}}},initShowForExCheck:function(w,x){if(!x.isHidden&&w.check&&w.check.enable){if(typeof x._nocheck!="undefined"){x.nocheck=x._nocheck;delete x._nocheck}if(h.setChkClass){var v=g(x,l.id.CHECK,w);h.setChkClass(w,v,x)}if(h.repairParentChkClassWithSelf){h.repairParentChkClassWithSelf(w,x)}}}},c={clearOldFirstNode:function(v,w){var x=w.getNextNode();while(!!x){if(x.isFirstNode){x.isFirstNode=false;h.setNodeLineIcos(v,x);break}if(x.isLastNode){break}x=x.getNextNode()}},clearOldLastNode:function(v,w,x){var y=w.getPreNode();while(!!y){if(y.isLastNode){y.isLastNode=false;if(x){h.setNodeLineIcos(v,y)}break}if(y.isFirstNode){break}y=y.getPreNode()}},makeDOMNodeMainBefore:function(v,w,x){v.push("<li ",(x.isHidden?"style='display:none;' ":""),"id='",x.tId,"' class='",l.className.LEVEL,x.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(w,x,v){x.isHidden=false;t.initShowForExCheck(w,x);g(x,w).show()},showNodes:function(D,v,E){if(!v||v.length==0){return}var y={},B,A;for(B=0,A=v.length;B<A;B++){var x=v[B];if(!y[x.parentTId]){var z=x.getParentNode();y[x.parentTId]=(z===null)?t.getRoot(D):x.getParentNode()}h.showNode(D,x,E)}for(var C in y){var w=y[C][D.data.key.children];h.setFirstNodeForShow(D,w);h.setLastNodeForShow(D,w)}},hideNode:function(w,x,v){x.isHidden=true;x.isFirstNode=false;x.isLastNode=false;t.initHideForExCheck(w,x);h.cancelPreSelectedNode(w,x);g(x,w).hide()},hideNodes:function(D,v,E){if(!v||v.length==0){return}var y={},B,A;for(B=0,A=v.length;B<A;B++){var x=v[B];if((x.isFirstNode||x.isLastNode)&&!y[x.parentTId]){var z=x.getParentNode();y[x.parentTId]=(z===null)?t.getRoot(D):x.getParentNode()}h.hideNode(D,x,E)}for(var C in y){var w=y[C][D.data.key.children];h.setFirstNodeForHide(D,w);h.setLastNodeForHide(D,w)}},setFirstNode:function(w,v){var y=w.data.key.children,x=v[y].length;if(x>0&&!v[y][0].isHidden){v[y][0].isFirstNode=true}else{if(x>0){h.setFirstNodeForHide(w,v[y])}}},setLastNode:function(w,v){var y=w.data.key.children,x=v[y].length;if(x>0&&!v[y][0].isHidden){v[y][x-1].isLastNode=true}else{if(x>0){h.setLastNodeForHide(w,v[y])}}},setFirstNodeForHide:function(y,v){var z,x,w;for(x=0,w=v.length;x<w;x++){z=v[x];if(z.isFirstNode){break}if(!z.isHidden&&!z.isFirstNode){z.isFirstNode=true;h.setNodeLineIcos(y,z);break}else{z=null}}return z},setFirstNodeForShow:function(z,w){var B,y,x,A,v;for(y=0,x=w.length;y<x;y++){B=w[y];if(!A&&!B.isHidden&&B.isFirstNode){A=B;break}else{if(!A&&!B.isHidden&&!B.isFirstNode){B.isFirstNode=true;A=B;h.setNodeLineIcos(z,B)}else{if(A&&B.isFirstNode){B.isFirstNode=false;v=B;h.setNodeLineIcos(z,B);break}else{B=null}}}}return{"new":A,old:v}},setLastNodeForHide:function(x,v){var y,w;for(w=v.length-1;w>=0;w--){y=v[w];if(y.isLastNode){break}if(!y.isHidden&&!y.isLastNode){y.isLastNode=true;h.setNodeLineIcos(x,y);break}else{y=null}}return y},setLastNodeForShow:function(z,w){var B,y,x,A,v;for(y=w.length-1;y>=0;y--){B=w[y];if(!A&&!B.isHidden&&B.isLastNode){A=B;break}else{if(!A&&!B.isHidden&&!B.isLastNode){B.isLastNode=true;A=B;h.setNodeLineIcos(z,B)}else{if(A&&B.isLastNode){B.isLastNode=false;v=B;h.setNodeLineIcos(z,B);break}else{B=null}}}}return{"new":A,old:v}}},o={view:c,data:k};e.extend(true,e.fn.zTree._z,o);var b=e.fn.zTree,r=b._z.tools,l=b.consts,h=b._z.view,t=b._z.data,p=b._z.event,g=r.$;t.addInitNode(s);t.addBeforeA(a);t.addZTreeTools(i);var d=t.initNode;t.initNode=function(D,v,z,A,C,B,x){var y=(A)?A:t.getRoot(D),w=y[D.data.key.children];t.tmpHideFirstNode=h.setFirstNodeForHide(D,w);t.tmpHideLastNode=h.setLastNodeForHide(D,w);if(x){h.setNodeLineIcos(D,t.tmpHideFirstNode);h.setNodeLineIcos(D,t.tmpHideLastNode)}C=(t.tmpHideFirstNode===z);B=(t.tmpHideLastNode===z);if(d){d.apply(t,arguments)}if(x&&B){h.clearOldLastNode(D,z,x)}};var q=t.makeChkFlag;if(!!q){t.makeChkFlag=function(v,w){if(!!w&&!!w.isHidden){return}q.apply(t,arguments)}}var f=t.getTreeCheckedNodes;if(!!f){t.getTreeCheckedNodes=function(x,v,y,w){if(!!v&&v.length>0){var z=v[0].getParentNode();if(!!z&&!!z.isHidden){return[]}}return f.apply(t,arguments)}}var m=t.getTreeChangeCheckedNodes;if(!!m){t.getTreeChangeCheckedNodes=function(x,v,w){if(!!v&&v.length>0){var y=v[0].getParentNode();if(!!y&&!!y.isHidden){return[]}}return m.apply(t,arguments)}}var n=h.expandCollapseSonNode;if(!!n){h.expandCollapseSonNode=function(v,w,y,x,z){if(!!w&&!!w.isHidden){return}n.apply(h,arguments)}}var u=h.setSonNodeCheckBox;if(!!u){h.setSonNodeCheckBox=function(v,w,x,y){if(!!w&&!!w.isHidden){return}u.apply(h,arguments)}}var j=h.repairParentChkClassWithSelf;if(!!j){h.repairParentChkClassWithSelf=function(v,w){if(!!w&&!!w.isHidden){return}j.apply(h,arguments)}}})(jQuery);