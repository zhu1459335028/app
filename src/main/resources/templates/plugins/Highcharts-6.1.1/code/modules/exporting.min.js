(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(M){var L=M.defaultOptions,c=M.doc,x=M.Chart,w=M.addEvent,e=M.removeEvent,o=M.fireEvent,s=M.createElement,n=M.discardElement,j=M.css,y=M.merge,v=M.pick,H=M.each,i=M.objectEach,m=M.extend,d=M.isTouchDevice,l=M.win,g=l.navigator.userAgent,b=M.Renderer.prototype.symbols;/Edge\/|Trident\/|MSIE /.test(g);/firefox/i.test(g);m(L.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});L.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};y(!0,L.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:d?"14px":"11px",transition:"sky-background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}});L.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}};M.post=function(h,f,k){var p=s("form",y({method:"post",action:h,enctype:"multipart/form-data"},k),{display:"none"},c.body);i(f,function(r,q){s("input",{type:"hidden",name:q,value:r},null,p)});p.submit();n(p)};m(x.prototype,{sanitizeSVG:function(h,f){if(f&&f.exporting&&f.exporting.allowHTML){var k=h.match(/<\/svg>(.*?$)/);k&&k[1]&&(k='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"'+f.chart.width+'" height\x3d"'+f.chart.height+'"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+k[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",h=h.replace("\x3c/svg\x3e",k+"\x3c/svg\x3e"))}h=h.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+\:)href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad");this.ieSanitizeSVG&&(h=this.ieSanitizeSVG(h));return h},getChartHTML:function(){return this.container.innerHTML},getSVG:function(k){var h,r,t,p,f,q=y(this.options,k);r=s("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},c.body);t=this.renderTo.style.width;f=this.renderTo.style.height;t=q.exporting.sourceWidth||q.chart.width||/px$/.test(t)&&parseInt(t,10)||600;f=q.exporting.sourceHeight||q.chart.height||/px$/.test(f)&&parseInt(f,10)||400;m(q.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:t,height:f});q.exporting.enabled=!1;delete q.data;q.series=[];H(this.series,function(u){p=y(u.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:u.visible});p.isInternal||q.series.push(p)});H(this.axes,function(u){u.userOptions.internalKey||(u.userOptions.internalKey=M.uniqueKey())});h=new M.Chart(q,this.callback);k&&H(["xAxis","yAxis","series"],function(z){var u={};k[z]&&(u[z]=k[z],h.update(u))});H(this.axes,function(u){var B=M.find(h.axes,function(C){return C.options.internalKey===u.userOptions.internalKey}),A=u.getExtremes(),z=A.userMin,A=A.userMax;B&&(void 0!==z&&z!==B.min||void 0!==A&&A!==B.max)&&B.setExtremes(z,A,!0,!1)});t=h.getChartHTML();o(this,"getSVG",{chartCopy:h});t=this.sanitizeSVG(t,q);q=null;h.destroy();n(r);return t},getSVGForExport:function(h,f){var k=this.options.exporting;return this.getSVG(y({chart:{borderRadius:0}},k.chartOptions,f,{exporting:{sourceWidth:h&&h.sourceWidth||k.sourceWidth,sourceHeight:h&&h.sourceHeight||k.sourceHeight}}))},exportChart:function(h,f){f=this.getSVGForExport(h,f);h=y(this.options.exporting,h);M.post(h.url,{filename:h.filename||"chart",type:h.type,width:h.width||0,scale:h.scale,svg:f},h.formAttributes)},print:function(){var A=this,z=A.container,r=[],u=z.parentNode,q=c.body,k=q.childNodes,p=A.options.exporting.printMaxWidth,t,h;if(!A.isPrinting){A.isPrinting=!0;A.pointer.reset(null,0);o(A,"beforePrint");if(h=p&&A.chartWidth>p){t=[A.options.chart.width,void 0,!1],A.setSize(p,void 0,!1)}H(k,function(B,f){1===B.nodeType&&(r[f]=B.style.display,B.style.display="none")});q.appendChild(z);l.focus();l.print();setTimeout(function(){u.appendChild(z);H(k,function(B,f){1===B.nodeType&&(B.style.display=r[f])});A.isPrinting=!1;h&&A.setSize.apply(A,t);o(A,"afterPrint")},1000)}},contextMenu:function(F,D,z,B,J,q,u){var A=this,k=A.options.navigation,t=A.chartWidth,I=A.chartHeight,f="cache-"+F,r=A[f],G=Math.max(J,q),E,C;r||(A[f]=r=s("div",{className:F},{position:"absolute",zIndex:1000,padding:G+"px",pointerEvents:"auto"},A.fixedDiv||A.container),E=s("div",{className:"highcharts-menu"},null,r),j(E,m({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},k.menuStyle)),C=function(){j(r,{display:"none"});u&&u.setState(0);A.openMenu=!1},A.exportEvents.push(w(r,"mouseleave",function(){r.hideTimer=setTimeout(C,500)}),w(r,"mouseenter",function(){M.clearTimeout(r.hideTimer)}),w(c,"mouseup",function(h){A.pointer.inClass(h.target,F)||C()}),w(r,"click",function(){A.openMenu&&C()})),H(D,function(p){"string"===typeof p&&(p=A.options.exporting.menuItemDefinitions[p]);if(M.isObject(p,!0)){var h;p.separator?h=s("hr",null,null,E):(h=s("div",{className:"highcharts-menu-item",onclick:function(K){K&&K.stopPropagation();C();p.onclick&&p.onclick.apply(A,arguments)},innerHTML:p.text||A.options.lang[p.textKey]},null,E),h.onmouseover=function(){j(this,k.menuItemHoverStyle)},h.onmouseout=function(){j(this,k.menuItemStyle)},j(h,m({cursor:"pointer"},k.menuItemStyle)));A.exportDivElements.push(h)}}),A.exportDivElements.push(E,r),A.exportMenuWidth=r.offsetWidth,A.exportMenuHeight=r.offsetHeight);D={display:"block"};z+A.exportMenuWidth>t?D.right=t-z-J-G+"px":D.left=z-G+"px";B+q+A.exportMenuHeight>I&&"top"!==u.alignOptions.verticalAlign?D.bottom=I-B-G+"px":D.top=B+q-G+"px";j(r,D);A.openMenu=!0},addButton:function(I){var G=this,D=G.renderer,F=y(G.options.navigation.buttonOptions,I),C=F.onclick,t=F.menuItems,B,E,r=F.symbolSize||12;G.btnCount||(G.btnCount=0);G.exportDivElements||(G.exportDivElements=[],G.exportSVGElements=[]);if(!1!==F.enabled){var A=F.theme,z=A.states,p=z&&z.hover,z=z&&z.select,u;delete A.states;C?u=function(f){f.stopPropagation();C.call(G,f)}:t&&(u=function(){G.contextMenu(E.menuClassName,t,E.translateX,E.translateY,E.width,E.height,E);E.setState(2)});F.text&&F.symbol?A.paddingLeft=v(A.paddingLeft,25):F.text||m(A,{width:F.width,height:F.height,padding:0});E=D.button(F.text,0,0,u,A,p,z).addClass(I.className).attr({"stroke-linecap":"round",title:v(G.options.lang[F._titleKey],"")});E.menuClassName=I.menuClassName||"highcharts-menu-"+G.btnCount++;F.symbol&&(B=D.symbol(F.symbol,F.symbolX-r/2,F.symbolY-r/2,r,r,{width:r,height:r}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(E),B.attr({stroke:F.symbolStroke,fill:F.symbolFill,"stroke-width":F.symbolStrokeWidth||1}));E.add(G.exportingGroup).align(m(F,{width:E.width,x:v(F.x,G.buttonOffset)}),!0,"spacingBox");G.buttonOffset+=(E.width+F.buttonSpacing)*("right"===F.align?-1:1);G.exportSVGElements.push(E,B)}},destroyExport:function(k){var f=k?k.target:this;k=f.exportSVGElements;var q=f.exportDivElements,r=f.exportEvents,p;k&&(H(k,function(h,t){h&&(h.onclick=h.ontouchstart=null,p="cache-"+h.menuClassName,f[p]&&delete f[p],f.exportSVGElements[t]=h.destroy())}),k.length=0);f.exportingGroup&&(f.exportingGroup.destroy(),delete f.exportingGroup);q&&(H(q,function(h,t){M.clearTimeout(h.hideTimer);e(h,"mouseleave");f.exportDivElements[t]=h.onmouseout=h.onmouseover=h.ontouchstart=h.onclick=null;n(h)}),q.length=0);r&&(H(r,function(h){h()}),r.length=0)}});b.menu=function(h,f,k,p){return["M",h,f+2.5,"L",h+k,f+2.5,"M",h,f+p/2+0.5,"L",h+k,f+p/2+0.5,"M",h,f+p-1.5,"L",h+k,f+p-1.5]};x.prototype.renderExporting=function(){var h=this,f=h.options.exporting,k=f.buttons,p=h.isDirtyExporting||!h.exportSVGElements;h.buttonOffset=0;h.isDirtyExporting&&h.destroyExport();p&&!1!==f.enabled&&(h.exportEvents=[],h.exportingGroup=h.exportingGroup||h.renderer.g("exporting-group").attr({zIndex:3}).add(),i(k,function(q){h.addButton(q)}),h.isDirtyExporting=!1);w(h,"destroy",h.destroyExport)};w(x,"init",function(){var f=this;H(["exporting","navigation"],function(h){f[h]={update:function(k,p){f.isDirtyExporting=!0;y(!0,f.options[h],k);v(p,!0)&&f.redraw()}}})});x.prototype.callbacks.push(function(f){f.renderExporting();w(f,"redraw",f.renderExporting)})})(a)});