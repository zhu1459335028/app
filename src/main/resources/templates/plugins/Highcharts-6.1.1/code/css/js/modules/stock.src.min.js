"use strict";(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(b){(function(m){var e=m.addEvent,i=m.Axis,f=m.Chart,h=m.css,d=m.defined,l=m.each,j=m.extend,o=m.noop,g=m.pick,k=m.Series,n=m.timeUnits,c=m.wrap;c(k.prototype,"init",function(q){var p=this,r;q.apply(this,Array.prototype.slice.call(arguments,1));r=p.xAxis;if(r&&r.options.ordinal){e(p,"updatedData",function(){delete r.ordinalIndex})}});c(i.prototype,"getTimeTicks",function(s,q,H,K,P,C,O,y){var w=0,v,p,L={},Q,N,R,M,r=[],A=-Number.MAX_VALUE,D=this.options.tickPixelInterval,z=this.chart.time;if((!this.options.ordinal&&!this.options.breaks)||!C||C.length<3||H===undefined){return s.call(this,q,H,K,P)}R=C.length;for(v=0;v<R;v++){M=v&&C[v-1]>K;if(C[v]<H){w=v}if(v===R-1||C[v+1]-C[v]>O*5||M){if(C[v]>A){p=s.call(this,q,C[w],C[v],P);while(p.length&&p[0]<=A){p.shift()}if(p.length){A=p[p.length-1]}r=r.concat(p)}w=v+1}if(M){break}}N=p.info;if(y&&N.unitRange<=n.hour){v=r.length-1;for(w=1;w<v;w++){if(z.dateFormat("%d",r[w])!==z.dateFormat("%d",r[w-1])){L[r[w]]="day";Q=true}}if(Q){L[r[0]]="day"}N.higherRanks=L}r.info=N;if(y&&d(D)){var u=r.length,J=u,G,I,F=[],E,B,t,x=[];while(J--){I=this.translate(r[J]);if(E){x[J]=E-I}F[J]=E=I}x.sort();B=x[Math.floor(x.length/2)];if(B<D*0.6){B=null}J=r[u-1]>K?u-1:u;E=undefined;while(J--){I=F[J];t=Math.abs(E-I);if(E&&t<D*0.8&&(B===null||t<B*0.8)){if(L[r[J]]&&!L[r[J+1]]){G=J+1;E=I}else{G=J}r.splice(G,1)}else{E=I}}}return r});j(i.prototype,{beforeSetTickPositions:function(){var q=this,F,r=[],B,G=false,y,p=q.getExtremes(),z=p.min,E=p.max,s,x,u,v=q.isXAxis&&!!q.options.breaks,C=q.options.ordinal,A=Number.MAX_VALUE,w=q.chart.options.chart.ignoreHiddenSeries,t=q.options.className==="highcharts-navigator-xaxis",D;if(q.options.overscroll&&q.max===q.dataMax&&(!q.chart.mouseIsDown||t)&&(!q.eventArgs||q.eventArgs&&q.eventArgs.trigger!=="navigator")){q.max+=q.options.overscroll;if(!t&&d(q.userMin)){q.min+=q.options.overscroll}}if(C||v){l(q.series,function(I,H){B=[];if((!w||I.visible!==false)&&(I.takeOrdinalPosition!==false||v)){r=r.concat(I.processedXData);F=r.length;r.sort(function(K,J){return K-J});A=Math.min(A,g(I.closestPointRange,A));if(F){H=0;while(H<F-1){if(r[H]!==r[H+1]){B.push(r[H+1])}H++}if(B[0]!==r[0]){B.unshift(r[0])}r=B}}});F=r.length;if(F>2){y=r[1]-r[0];D=F-1;while(D--&&!G){if(r[D+1]-r[D]!==y){G=true}}if(!q.options.keepOrdinalPadding&&(r[0]-z>y||E-r[r.length-1]>y)){G=true}}else{if(q.options.overscroll){if(F===2){A=r[1]-r[0]}else{if(F===1){A=q.options.overscroll;r=[r[0],r[0]+A]}else{A=q.overscrollPointsRange}}}}if(G){if(q.options.overscroll){q.overscrollPointsRange=A;r=r.concat(q.getOverscrollPositions())}q.ordinalPositions=r;s=q.ordinal2lin(Math.max(z,r[0]),true);x=Math.max(q.ordinal2lin(Math.min(E,r[r.length-1]),true),1);q.ordinalSlope=u=(E-z)/(x-s);q.ordinalOffset=z-(s*u)}else{q.overscrollPointsRange=g(q.closestPointRange,q.overscrollPointsRange);q.ordinalPositions=q.ordinalSlope=q.ordinalOffset=undefined}}q.isOrdinal=C&&G;q.groupIntervalFactor=null},val2lin:function(s,v){var u=this,p=u.ordinalPositions,x;if(!p){x=s}else{var r=p.length,w,q,t;w=r;while(w--){if(p[w]===s){t=w;break}}w=r-1;while(w--){if(s>p[w]||w===0){q=(s-p[w])/(p[w+1]-p[w]);t=w+q;break}}x=v?t:u.ordinalSlope*(t||0)+u.ordinalOffset}return x},lin2val:function(s,z){var t=this,p=t.ordinalPositions,y;if(!p){y=s}else{var u=t.ordinalSlope,v=t.ordinalOffset,w=p.length-1,x,r,q;if(z){if(s<0){s=p[0]}else{if(s>w){s=p[w]}else{w=Math.floor(s);q=s-w}}}else{while(w--){x=(u*w)+v;if(s>=x){r=(u*(w+1))+v;q=(s-x)/(r-x);break}}}return q!==undefined&&p[w]!==undefined?p[w]+(q?q*(p[w+1]-p[w]):0):s}return y},getExtendedPositions:function(){var r=this,t=r.chart,p=r.series[0].currentDataGrouping,s=r.ordinalIndex,u=p?p.count+p.unitName:"raw",q=r.options.overscroll,v=r.getExtremes(),x,w;if(!s){s=r.ordinalIndex={}}if(!s[u]){x={series:[],chart:t,getExtremes:function(){return{min:v.dataMin,max:v.dataMax+q}},options:{ordinal:true},val2lin:i.prototype.val2lin,ordinal2lin:i.prototype.ordinal2lin};l(r.series,function(y){w={xAxis:x,xData:y.xData.slice(),chart:t,destroyGroupedData:o};w.xData=w.xData.concat(r.getOverscrollPositions());w.options={dataGrouping:p?{enabled:true,forced:true,approximation:"open",units:[[p.unitName,[p.count]]]}:{enabled:false}};y.processData.apply(w);x.series.push(w)});r.beforeSetTickPositions.apply(x);s[u]=x.ordinalPositions}return s[u]},getOverscrollPositions:function(){var s=this,r=s.options.overscroll,t=s.overscrollPointsRange,q=[],p=s.dataMax;if(m.defined(t)){q.push(p);while(p<=s.dataMax+r){p+=t;q.push(p)}}return q},getGroupIntervalFactor:function(q,t,r){var s,w=r.processedXData,u=w.length,v=[],x,p=this.groupIntervalFactor;if(!p){for(s=0;s<u-1;s++){v[s]=w[s+1]-w[s]}v.sort(function(z,y){return z-y});x=v[Math.floor(u/2)];q=Math.max(q,w[0]);t=Math.min(t,w[u-1]);this.groupIntervalFactor=p=(u*x)/(t-q)}return p},postProcessTickInterval:function(q){var p=this.ordinalSlope,r;if(p){if(!this.options.breaks){r=q/(p/this.closestPointRange)}else{r=this.closestPointRange||q}}else{r=q}return r}});i.prototype.ordinal2lin=i.prototype.val2lin;c(f.prototype,"pan",function(s,I){var B=this,x=B.xAxis[0],H=x.options.overscroll,w=I.chartX,J=false;if(x.options.ordinal&&x.series.length){var F=B.mouseDownX,p=x.getExtremes(),L=p.dataMax,E=p.min,G=p.max,A,y=B.hoverPoints,q=x.closestPointRange||x.overscrollPointsRange,v=x.translationSlope*(x.ordinalSlope||q),r=(F-w)/v,D={ordinalPositions:x.getExtendedPositions()},t,u,C=x.lin2val,K=x.val2lin,z;if(!D.ordinalPositions){J=true}else{if(Math.abs(r)>1){if(y){l(y,function(M){M.setState()})}if(r<0){u=D;z=x.ordinalPositions?x:D}else{u=x.ordinalPositions?x:D;z=D}t=z.ordinalPositions;if(L>t[t.length-1]){t.push(L)}B.fixedRange=G-E;A=x.toFixedRange(null,null,C.apply(u,[K.apply(u,[E,true])+r,true]),C.apply(z,[K.apply(z,[G,true])+r,true]));if(A.min>=Math.min(p.dataMin,E)&&A.max<=Math.max(L,G)+H){x.setExtremes(A.min,A.max,true,false,{trigger:"pan"})}B.mouseDownX=w;h(B.container,{cursor:"move"})}}}else{J=true}if(J){if(H){x.max=x.dataMax+H}s.apply(this,Array.prototype.slice.call(arguments,1))}})}(b));(function(m){var d=m.addEvent,e=m.pick,c=m.wrap,k=m.each,h=m.extend,f=m.isArray,n=m.fireEvent,g=m.Axis,i=m.Series;function l(){return Array.prototype.slice.call(arguments,1)}h(g.prototype,{isInBreak:function(p,s){var o,r=p.repeat||Infinity,u=p.from,q=p.to-p.from,t=(s>=u?(s-u)%r:r-((u-s)%r));if(!p.inclusive){o=t<q&&t!==0}else{o=t<=q}return o},isInAnyBreak:function(t,u){var s=this.options.breaks,q=s&&s.length,r,o,p;if(q){while(q--){if(this.isInBreak(s[q],t)){r=true;if(!o){o=e(s[q].showPoints,this.isXAxis?false:true)}}}if(r&&u){p=r&&!o}else{p=r}}return p}});d(g,"afterSetTickPositions",function(){if(this.options.breaks){var q=this,o=this.tickPositions,s=this.tickPositions.info,r=[],p;for(p=0;p<o.length;p++){if(!q.isInAnyBreak(o[p])){r.push(o[p])}}this.tickPositions=r;this.tickPositions.info=s}});d(g,"afterSetOptions",function(){if(this.options.breaks&&this.options.breaks.length){this.options.ordinal=false}});d(g,"afterInit",function(){var o=this,p;p=this.options.breaks;o.isBroken=(f(p)&&!!p.length);if(o.isBroken){o.val2lin=function(t){var s=t,q,r;for(r=0;r<o.breakArray.length;r++){q=o.breakArray[r];if(q.to<=t){s-=q.len}else{if(q.from>=t){break}else{if(o.isInBreak(q,t)){s-=(t-q.from);break}}}}return s};o.lin2val=function(t){var s=t,q,r;for(r=0;r<o.breakArray.length;r++){q=o.breakArray[r];if(q.from>=s){break}else{if(q.to<s){s+=q.len}else{if(o.isInBreak(q,s)){s+=q.len}}}}return s};o.setExtremes=function(t,r,u,s,q){while(this.isInAnyBreak(t)){t-=this.closestPointRange}while(this.isInAnyBreak(r)){r-=this.closestPointRange}g.prototype.setExtremes.call(this,t,r,u,s,q)};o.setAxisTranslation=function(A){g.prototype.setAxisTranslation.call(this,A);var z=o.options.breaks,s=[],v=[],t=0,u,r,w=o.userMin||o.min,B=o.userMax||o.max,y=e(o.pointRangePadding,0),q,x;k(z,function(C){r=C.repeat||Infinity;if(o.isInBreak(C,w)){w+=(C.to%r)-(w%r)}if(o.isInBreak(C,B)){B-=(B%r)-(C.from%r)}});k(z,function(C){q=C.from;r=C.repeat||Infinity;while(q-r>w){q-=r}while(q<w){q+=r}for(x=q;x<B;x+=r){s.push({value:x,move:"in"});s.push({value:x+(C.to-C.from),move:"out",size:C.breakSize})}});s.sort(function(D,C){var E;if(D.value===C.value){E=(D.move==="in"?0:1)-(C.move==="in"?0:1)}else{E=D.value-C.value}return E});u=0;q=w;k(s,function(C){u+=(C.move==="in"?1:-1);if(u===1&&C.move==="in"){q=C.value}if(u===0){v.push({from:q,to:C.value,len:C.value-q-(C.size||0)});t+=C.value-q-(C.size||0)}});o.breakArray=v;o.unitLength=B-w-t+y;n(o,"afterBreaks");if(o.options.staticScale){o.transA=o.options.staticScale}else{if(o.unitLength){o.transA*=(B-o.min+y)/o.unitLength}}if(y){o.minPixelPadding=o.transA*o.minPointOffset}o.min=w;o.max=B}}});c(i.prototype,"generatePoints",function(t){t.apply(this,l(arguments));var r=this,q=r.xAxis,p=r.yAxis,v=r.points,u,s=v.length,o=r.options.connectNulls,w;if(q&&p&&(q.options.breaks||p.options.breaks)){while(s--){u=v[s];w=u.y===null&&o===false;if(!w&&(q.isInAnyBreak(u.x,true)||p.isInAnyBreak(u.y,true))){v.splice(s,1);if(this.data[s]){this.data[s].destroyElements()}}}}});function j(o){o.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,e(this.pointArrayMap,["y"]))}m.Series.prototype.drawBreaks=function(s,u){var q=this,r=q.points,t,o,p,v;if(!s){return}k(u,function(w){t=s.breakArray||[];o=s.isXAxis?s.min:e(q.options.threshold,s.min);k(r,function(x){v=e(x["stack"+w.toUpperCase()],x[w]);k(t,function(y){p=false;if((o<y.from&&v>y.to)||(o>y.from&&v<y.from)){p="pointBreak"}else{if((o<y.from&&v>y.from&&v<y.to)||(o>y.from&&v>y.to&&v<y.from)){p="pointInBreak"}}if(p){n(s,p,{point:x,brk:y})}})})})};m.Series.prototype.gappedPath=function(){var r=this.currentDataGrouping,u=r&&r.totalRange,v=this.options.gapSize,t=this.points.slice(),s=t.length-1,q=this.yAxis,p,o;if(v&&s>0){if(this.options.gapUnit!=="value"){v*=this.closestPointRange}if(u&&u>v){v=u}while(s--){if(t[s+1].x-t[s].x>v){p=(t[s].x+t[s+1].x)/2;t.splice(s+1,0,{isNull:true,x:p});if(this.options.stacking){o=q.stacks[this.stackKey][p]=new m.StackItem(q,q.options.stackLabels,false,p,this.stack);o.total=0}}}}return this.getGraphPath(t)};c(m.seriesTypes.column.prototype,"drawPoints",j);c(m.Series.prototype,"drawPoints",j)}(b));(function(){}());(function(l){var u=l.addEvent,n=l.arrayMax,k=l.arrayMin,i=l.Axis,z=l.defaultPlotOptions,d=l.defined,e=l.each,x=l.extend,v=l.format,p=l.isNumber,g=l.merge,f=l.pick,y=l.Point,h=l.Series,w=l.Tooltip,j=l.wrap;var c=h.prototype,o=c.processData,r=c.generatePoints,t={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},m={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},s=l.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],q=l.approximations={sum:function(B){var A=B.length,C;if(!A&&B.hasNulls){C=null}else{if(A){C=0;while(A--){C+=B[A]}}}return C},average:function(B){var A=B.length,C=q.sum(B);if(p(C)&&A){C=C/A}return C},averages:function(){var A=[];e(arguments,function(B){A.push(q.average(B))});return A[0]===undefined?undefined:A},open:function(A){return A.length?A[0]:(A.hasNulls?null:undefined)},high:function(A){return A.length?n(A):(A.hasNulls?null:undefined)},low:function(A){return A.length?k(A):(A.hasNulls?null:undefined)},close:function(A){return A.length?A[A.length-1]:(A.hasNulls?null:undefined)},ohlc:function(B,C,A,D){B=q.open(B);C=q.high(C);A=q.low(A);D=q.close(D);if(p(B)||p(C)||p(A)||p(D)){return[B,C,A,D]}},range:function(A,B){A=q.low(A);B=q.high(B);if(p(A)||p(B)){return[A,B]}else{if(A===null&&B===null){return null}}}};c.groupData=function(D,X,B,O){var J=this,Z=J.data,K=J.options.data,W=[],L=[],V=[],I=D.length,H,G,N,M=!!X,A=[],T=typeof O==="function"?O:q[O]||(m[J.type]&&q[m[J.type].approximation])||q[t.approximation],P=J.pointArrayMap,Y=P&&P.length,E=0,C=0,Q,U,S;if(Y){e(P,function(){A.push([])})}else{A.push([])}Q=Y||1;for(U=0;U<=I;U++){if(D[U]>=B[0]){break}}for(U;U<=I;U++){while((B[E+1]!==undefined&&D[U]>=B[E+1])||U===I){H=B[E];J.dataGroupInfo={start:C,length:A[0].length};N=T.apply(J,A);if(N!==undefined){W.push(H);L.push(N);V.push(J.dataGroupInfo)}C=U;for(S=0;S<Q;S++){A[S].length=0;A[S].hasNulls=false}E+=1;if(U===I){break}}if(U===I){break}if(P){var F=J.cropStart+U,R=(Z&&Z[F])||J.pointClass.prototype.applyOptions.apply({series:J},[K[F]]),aa;for(S=0;S<Y;S++){aa=R[P[S]];if(p(aa)){A[S].push(aa)}else{if(aa===null){A[S].hasNulls=true}}}}else{G=M?X[U]:null;if(p(G)){A[0].push(G)}else{if(G===null){A[0].hasNulls=true}}}}return[W,L,V]};c.processData=function(){var O=this,R=O.chart,G=O.options,H=G.dataGrouping,T=O.allowDG!==false&&H&&f(H.enabled,R.options.isStock),F=O.visible||!R.options.chart.ignoreHiddenSeries,B,S,E=this.currentDataGrouping,P,C;O.forceCrop=T;O.groupPixelWidth=null;O.hasProcessed=true;S=(o.apply(O,arguments)===false||!T);if(!S){O.destroyGroupedData();var V,L=H.groupAll?O.xData:O.processedXData,aa=H.groupAll?O.yData:O.processedYData,J=R.plotSizeX,M=O.xAxis,U=M.options.ordinal,I=O.groupPixelWidth=M.getGroupPixelWidth&&M.getGroupPixelWidth();if(I){B=true;O.isDirty=true;O.points=null;var A=M.getExtremes(),Y=A.min,Z=A.max,N=(U&&M.getGroupIntervalFactor(Y,Z,O))||1,X=(I*(Z-Y)/J)*N,D=M.getTimeTicks(M.normalizeTimeTickInterval(X,H.units||s),Math.min(Y,L[0]),Math.max(Z,L[L.length-1]),M.options.startOfWeek,L,O.closestPointRange),K=c.groupData.apply(O,[L,aa,D,H.approximation]),W=K[0],Q=K[1];if(H.smoothed&&W.length){V=W.length-1;W[V]=Math.min(W[V],Z);while(V--&&V>0){W[V]+=X/2}W[0]=Math.max(W[0],Y)}P=D.info;O.closestPointRange=D.info.totalRange;O.groupMap=K[2];if(d(W[0])&&W[0]<M.dataMin&&F){if(M.min<=M.dataMin){M.min=W[0]}M.dataMin=W[0]}if(H.groupAll){C=O.cropData(W,Q,M.min,M.max,1);W=C.xData;Q=C.yData}O.processedXData=W;O.processedYData=Q}else{O.groupMap=null}O.hasGroupedData=B;O.currentDataGrouping=P;O.preventGraphAnimation=(E&&E.totalRange)!==(P&&P.totalRange)}};c.destroyGroupedData=function(){var A=this.groupedData;e(A||[],function(B,C){if(B){A[C]=B.destroy?B.destroy():null}});this.groupedData=null};c.generatePoints=function(){r.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};u(y,"update",function(){if(this.dataGroup){l.error(24);return false}});j(w.prototype,"tooltipFooterHeaderFormatter",function(L,M,I){var O=this,E=this.chart.time,J=M.series,P=J.options,F=J.tooltipOptions,D=P.dataGrouping,G=F.xDateFormat,N,B=J.xAxis,A,K,C,H;if(B&&B.options.type==="datetime"&&D&&p(M.key)){A=J.currentDataGrouping;K=D.dateTimeLabelFormats;if(A){C=K[A.unitName];if(A.count===1){G=C[0]}else{G=C[1];N=C[2]}}else{if(!G&&K){G=O.getXDateFormat(M,F,B)}}H=E.dateFormat(G,M.key);if(N){H+=E.dateFormat(N,M.key+A.totalRange-1)}return v(F[(I?"footer":"header")+"Format"],{point:x(M.point,{key:H}),series:J},E)}return L.call(O,M,I)});u(h,"destroy",c.destroyGroupedData);u(h,"afterSetOptions",function(F){var D=F.options,E=this.type,B=this.chart.options.plotOptions,A=z[E].dataGrouping,C=this.useCommonDataGrouping&&t;if(m[E]||C){if(!A){A=g(t,m[E])}D.dataGrouping=g(C,A,B.series&&B.series.dataGrouping,B[E].dataGrouping,this.userOptions.dataGrouping)}if(this.chart.options.isStock){this.requireSorting=true}});u(i,"afterSetScale",function(){e(this.series,function(A){A.hasProcessed=false})});i.prototype.getGroupPixelWidth=function(){var E=this.series,A=E.length,D,F=0,B=false,G,C;D=A;while(D--){C=E[D].options.dataGrouping;if(C){F=Math.max(F,C.groupPixelWidth)}}D=A;while(D--){C=E[D].options.dataGrouping;if(C&&E[D].hasProcessed){G=(E[D].processedXData||E[D].data).length;if(E[D].groupPixelWidth||G>(this.chart.plotSizeX/F)||(G&&C.forced)){B=true}}}return B?F:0};i.prototype.setDataGrouping=function(C,B){var A;B=f(B,true);if(!C){C={forced:false,units:null}}if(this instanceof i){A=this.series.length;while(A--){this.series[A].update({dataGrouping:C},false)}}else{e(this.chart.options.series,function(D){D.dataGrouping=C},false)}this.ordinalSlope=null;if(B){this.chart.redraw()}}}(b));(function(e){var g=e.each,f=e.Point,c=e.seriesType,d=e.seriesTypes;c("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span class="highcharts-color-{point.colorIndex}">\u25CF</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,stickyTracking:true},{directTouch:false,pointArrayMap:["open","high","low","close"],toYData:function(h){return[h.open,h.high,h.low,h.close]},pointValKey:"close",translate:function(){var j=this,h=j.yAxis,i=!!j.modifyValue,k=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];d.column.prototype.translate.apply(j);g(j.points,function(l){g([l.open,l.high,l.low,l.close,l.low],function(n,m){if(n!==null){if(i){n=j.modifyValue(n)}l[k[m]]=h.toPixels(n,true)}});l.tooltipPos[1]=l.plotHigh+h.pos-j.chart.plotTop})},drawPoints:function(){var h=this,j=h.points,i=h.chart;g(j,function(q){var m,p,s,n,r,k=q.graphic,l,o=!k;if(q.plotY!==undefined){if(!k){q.graphic=k=i.renderer.path().add(h.group)}s=(k.strokeWidth()%2)/2;l=Math.round(q.plotX)-s;n=Math.round(q.shapeArgs.width/2);r=["M",l,Math.round(q.yBottom),"L",l,Math.round(q.plotHigh)];if(q.open!==null){m=Math.round(q.plotOpen)+s;r.push("M",l,m,"L",l-n,m)}if(q.close!==null){p=Math.round(q.plotClose)+s;r.push("M",l,p,"L",l+n,p)}k[o?"attr":"animate"]({d:r}).addClass(q.getClassName(),true)}})},animate:null},{getClassName:function(){return f.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}(b));(function(g){var e=g.defaultPlotOptions,h=g.each,i=g.merge,d=g.seriesType,f=g.seriesTypes;var c={states:{hover:{lineWidth:2}},tooltip:e.ohlc.tooltip,threshold:null,stickyTracking:true};d("candlestick","ohlc",i(e.column,c),{drawPoints:function(){var j=this,l=j.points,k=j.chart;h(l,function(v){var m=v.graphic,q,t,n,u,p,y,x,o,w,r,s=!m;if(v.plotY!==undefined){if(!m){v.graphic=m=k.renderer.path().add(j.group)}x=(m.strokeWidth()%2)/2;o=Math.round(v.plotX)-x;q=v.plotOpen;t=v.plotClose;n=Math.min(q,t);u=Math.max(q,t);r=Math.round(v.shapeArgs.width/2);p=Math.round(n)!==Math.round(v.plotHigh);y=u!==v.yBottom;n=Math.round(n)+x;u=Math.round(u)+x;w=[];w.push("M",o-r,u,"L",o-r,n,"L",o+r,n,"L",o+r,u,"Z","M",o,n,"L",o,p?Math.round(v.plotHigh):n,"M",o,u,"L",o,y?Math.round(v.yBottom):u);m[s?"attr":"animate"]({d:w}).addClass(v.getClassName(),true)}})}})}(b));var a=(function(d){var f=d.each,h=d.defined,c=d.seriesTypes,g=d.stableSort;var e={getPlotBox:function(){return d.Series.prototype.getPlotBox.call((this.options.onSeries&&this.chart.get(this.options.onSeries))||this)},translate:function(){c.column.prototype.translate.apply(this);var v=this,o=v.options,x=v.chart,B=v.points,q=B.length-1,y,p,m=o.onSeries,A=m&&x.get(m),n=o.onKey||"y",r=A&&A.options.step,z=A&&A.points,C=z&&z.length,w=x.inverted,t=v.xAxis,k=v.yAxis,E=0,j,s,l,u,D;if(A&&A.visible&&C){E=(A.pointXOffset||0)+(A.barW||0)/2;u=A.currentDataGrouping;s=(z[C-1].x+(u?u.totalRange:0));g(B,function(F,i){return(F.x-i.x)});n="plot"+n[0].toUpperCase()+n.substr(1);while(C--&&B[q]){j=z[C];y=B[q];y.y=j.y;if(j.x<=y.x&&j[n]!==undefined){if(y.x<=s){y.plotY=j[n];if(j.x<y.x&&!r){l=z[C+1];if(l&&l[n]!==undefined){D=(y.x-j.x)/(l.x-j.x);y.plotY+=D*(l[n]-j[n]);y.y+=D*(l.y-j.y)}}}q--;C++;if(q<0){break}}}}f(B,function(F,G){var H;F.plotX+=E;if(F.plotY===undefined||w){if(F.plotX>=0&&F.plotX<=t.len){if(w){F.plotY=t.translate(F.x,0,1,0,1);F.plotX=h(F.y)?k.translate(F.y,0,0,0,1):0}else{F.plotY=x.chartHeight-t.bottom-(t.opposite?t.height:0)+t.offset-k.top}}else{F.shapeArgs={}}}p=B[G-1];if(p&&p.plotX===F.plotX){if(p.stackIndex===undefined){p.stackIndex=0}H=p.stackIndex+1}F.stackIndex=H});this.onSeries=A}};return e}(b));(function(o,j){var h=o.addEvent,n=o.each,m=o.merge,p=o.noop,g=o.Renderer,k=o.Series,f=o.seriesType,l=o.SVGRenderer,i=o.TrackerMixin,e=o.VMLRenderer,d=l.prototype.symbols;f("flags","column",{pointRange:0,allowOverlapX:false,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30},{sorted:false,noSharedTooltip:true,allowDG:false,takeOrdinalPosition:false,trackerGroups:["markerGroup"],forceCrop:true,init:k.prototype.init,translate:j.translate,getPlotBox:j.getPlotBox,drawPoints:function(){var z=this,I=z.points,D=z.chart,G=D.renderer,w,u,B=D.inverted,v=z.options,y=v.y,r,J,H,A,E,s,C,F,q=z.yAxis,t={},x=[];J=I.length;while(J--){H=I[J];F=(B?H.plotY:H.plotX)>z.xAxis.len;w=H.plotX;E=H.stackIndex;r=H.options.shape||v.shape;u=H.plotY;if(u!==undefined){u=H.plotY+y-(E!==undefined&&E*v.stackDistance)}H.anchorX=E?undefined:H.plotX;s=E?undefined:H.plotY;A=H.graphic;if(u!==undefined&&w>=0&&!F){if(!A){A=H.graphic=G.label("",null,null,r,null,null,v.useHTML).attr({align:r==="flag"?"left":"center",width:v.width,height:v.height,"text-align":v.textAlign}).addClass("highcharts-point").add(z.markerGroup);if(H.graphic.div){H.graphic.div.point=H}A.isNew=true}if(w>0){w-=A.strokeWidth()%2}C={y:u,anchorY:s};if(v.allowOverlapX){C.x=w;C.anchorX=H.anchorX}A.attr({text:H.options.title||v.title||"A"})[A.isNew?"attr":"animate"](C);if(!v.allowOverlapX){if(!t[H.plotX]){t[H.plotX]={align:0,size:A.width,target:w,anchorX:w}}else{t[H.plotX].size=Math.max(t[H.plotX].size,A.width)}}H.tooltipPos=[w,u+q.pos-D.plotTop]}else{if(A){H.graphic=A.destroy()}}}if(!v.allowOverlapX){o.objectEach(t,function(K){K.plotX=K.anchorX;x.push(K)});o.distribute(x,B?q.len:this.xAxis.len,100);n(I,function(K){var L=K.graphic&&t[K.plotX];if(L){K.graphic[K.graphic.isNew?"attr":"animate"]({x:L.pos,anchorX:K.anchorX});K.graphic.isNew=false}})}if(v.useHTML){o.wrap(z.markerGroup,"on",function(K){return o.SVGElement.prototype.on.apply(K.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}},drawTracker:function(){var q=this,r=q.points;i.drawTrackerPoint.apply(this);n(r,function(s){var t=s.graphic;if(t){h(t.element,"mouseover",function(){if(s.stackIndex>0&&!s.raised){s._y=t.y;t.attr({y:s._y-8});s.raised=true}n(r,function(u){if(u!==s&&u.raised&&u.graphic){u.graphic.attr({y:u._y});u.raised=false}})})}})},animate:p,buildKDTree:p,setClip:p,invertGroups:p});d.flag=function(r,z,s,u,t){var q=(t&&t.anchorX)||r,v=(t&&t.anchorY)||z;return d.circle(q-1,v-1,2,2).concat(["M",q,v,"L",r,z+u,r,z,r+s,z,r+s,z+u,r,z+u,"Z"])};function c(q){d[q+"pin"]=function(z,v,A,u,C){var s=C&&C.anchorX,r=C&&C.anchorY,B,t;if(q==="circle"&&u>A){z-=Math.round((u-A)/2);A=u}B=d[q](z,v,A,u);if(s&&r){t=(v>r)?v:v+u;B.push("M",q==="circle"?B[1]-B[4]:B[1]+B[4]/2,t,"L",s,r);B=B.concat(d.circle(s-1,r-1,2,2))}return B}}c("circle");c("square")}(b,a));(function(m){var p=m.addEvent,k=m.Axis,r=m.correctFloat,t=m.defaultOptions,d=m.defined,i=m.destroyObjectProperties,f=m.each,u=m.fireEvent,s=m.hasTouch,j=m.isTouchDevice,h=m.merge,g=m.pick,q=m.removeEvent,n=m.svg,l=m.wrap,c;var o={height:j?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:n&&!j,margin:10,minWidth:6,step:0.2,zIndex:3};t.scrollbar=h(true,o,t.scrollbar);m.swapXY=c=function(z,x){var y,v=z.length,w;if(x){for(y=0;y<v;y+=3){w=z[y+1];z[y+1]=z[y+2];z[y+2]=w}}return z};function e(x,v,w){this.init(x,v,w)}e.prototype={init:function(x,v,w){this.scrollbarButtons=[];this.renderer=x;this.userOptions=v;this.options=h(o,v);this.chart=w;this.size=g(this.options.size,this.options.height);if(v.enabled){this.render();this.initEvents();this.addEvents()}},render:function(){var v=this,y=v.renderer,w=v.options,x=v.size,z;v.group=z=y.g("scrollbar").attr({zIndex:w.zIndex,translateY:-99999}).add();v.track=y.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:w.trackBorderRadius||0,height:x,width:x}).add(z);this.trackBorderWidth=v.track.strokeWidth();v.track.attr({y:-this.trackBorderWidth%2/2});v.scrollbarGroup=y.g().add(z);v.scrollbar=y.rect().addClass("highcharts-scrollbar-thumb").attr({height:x,width:x,r:w.barBorderRadius||0}).add(v.scrollbarGroup);v.scrollbarRifles=y.path(c(["M",-3,x/4,"L",-3,2*x/3,"M",0,x/4,"L",0,2*x/3,"M",3,x/4,"L",3,2*x/3],w.vertical)).addClass("highcharts-scrollbar-rifles").add(v.scrollbarGroup);v.scrollbarStrokeWidth=v.scrollbar.strokeWidth();v.scrollbarGroup.translate(-v.scrollbarStrokeWidth%2/2,-v.scrollbarStrokeWidth%2/2);v.drawScrollbarButton(0);v.drawScrollbarButton(1)},position:function(E,D,w,F){var B=this,G=B.options,A=G.vertical,C=F,z=0,v=B.rendered?"animate":"attr";B.x=E;B.y=D+this.trackBorderWidth;B.width=w;B.height=F;B.xOffset=C;B.yOffset=z;if(A){B.width=B.yOffset=w=z=B.size;B.xOffset=C=0;B.barWidth=F-w*2;B.x=E=E+B.options.margin}else{B.height=B.xOffset=F=C=B.size;B.barWidth=w-F*2;B.y=B.y+B.options.margin}B.group[v]({translateX:E,translateY:B.y});B.track[v]({width:w,height:F});B.scrollbarButtons[1][v]({translateX:A?0:w-C,translateY:A?F-z:0})},drawScrollbarButton:function(y){var w=this,B=w.renderer,v=w.scrollbarButtons,x=w.options,z=w.size,C,A;C=B.g().add(w.group);v.push(C);A=B.rect().addClass("highcharts-scrollbar-button").add(C);A.attr(A.crisp({x:-0.5,y:-0.5,width:z+1,height:z+1,r:x.buttonBorderRadius},A.strokeWidth()));A=B.path(c(["M",z/2+(y?-1:1),z/2-3,"L",z/2+(y?-1:1),z/2+3,"L",z/2+(y?2:-2),z/2],x.vertical)).addClass("highcharts-scrollbar-arrow").add(v[y])},setRange:function(E,F){var B=this,H=B.options,z=H.vertical,x=H.minWidth,G=B.barWidth,A,y,D,C,w,v=this.rendered&&!this.hasDragged?"animate":"attr";if(!d(G)){return}E=Math.max(E,0);A=Math.ceil(G*E);y=G*Math.min(F,1);B.calculatedWidth=C=r(y-A);if(C<x){A=(G-x+C)*E;C=x}D=Math.floor(A+B.xOffset+B.yOffset);w=C/2-0.5;B.from=E;B.to=F;if(!z){B.scrollbarGroup[v]({translateX:D});B.scrollbar[v]({width:C});B.scrollbarRifles[v]({translateX:w});B.scrollbarLeft=D;B.scrollbarTop=0}else{B.scrollbarGroup[v]({translateY:D});B.scrollbar[v]({height:C});B.scrollbarRifles[v]({translateY:w});B.scrollbarTop=D;B.scrollbarLeft=0}if(C<=12){B.scrollbarRifles.hide()}else{B.scrollbarRifles.show(true)}if(H.showFull===false){if(E<=0&&F>=1){B.group.hide()}else{B.group.show()}}B.rendered=true},initEvents:function(){var v=this;v.mouseMoveHandler=function(B){var z=v.chart.pointer.normalize(B),y=v.options,A=y.vertical?"chartY":"chartX",D=v.initPositions,x,w,C;if(v.grabbedCenter&&(!B.touches||B.touches[0][A]!==0)){w=v.cursorToScrollbarPosition(z)[A];x=v[A];C=w-x;v.hasDragged=true;v.updatePosition(D[0]+C,D[1]+C);if(v.hasDragged){u(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMType:B.type,DOMEvent:B})}}};v.mouseUpHandler=function(w){if(v.hasDragged){u(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMType:w.type,DOMEvent:w})}v.grabbedCenter=v.hasDragged=v.chartX=v.chartY=null};v.mouseDownHandler=function(x){var w=v.chart.pointer.normalize(x),y=v.cursorToScrollbarPosition(w);v.chartX=y.chartX;v.chartY=y.chartY;v.initPositions=[v.from,v.to];v.grabbedCenter=true};v.buttonToMinClick=function(x){var w=r(v.to-v.from)*v.options.step;v.updatePosition(r(v.from-w),r(v.to-w));u(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMEvent:x})};v.buttonToMaxClick=function(x){var w=(v.to-v.from)*v.options.step;v.updatePosition(v.from+w,v.to+w);u(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMEvent:x})};v.trackClick=function(A){var x=v.chart.pointer.normalize(A),w=v.to-v.from,z=v.y+v.scrollbarTop,y=v.x+v.scrollbarLeft;if((v.options.vertical&&x.chartY>z)||(!v.options.vertical&&x.chartX>y)){v.updatePosition(v.from+w,v.to+w)}else{v.updatePosition(v.from-w,v.to-w)}u(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMEvent:A})}},cursorToScrollbarPosition:function(x){var v=this,w=v.options,y=w.minWidth>v.calculatedWidth?w.minWidth:0;return{chartX:(x.chartX-v.x-v.xOffset)/(v.barWidth-y),chartY:(x.chartY-v.y-v.yOffset)/(v.barWidth-y)}},updatePosition:function(w,v){if(v>1){w=r(1-r(v-w));v=1}if(w<0){v=r(v-w);w=0}this.from=w;this.to=v},update:function(v){this.destroy();this.init(this.chart.renderer,h(true,this.options,v),this.chart)},addEvents:function(){var y=this.options.inverted?[1,0]:[0,1],B=this.scrollbarButtons,A=this.scrollbarGroup.element,x=this.track.element,v=this.mouseDownHandler,w=this.mouseMoveHandler,z=this.mouseUpHandler,C;C=[[B[y[0]].element,"click",this.buttonToMinClick],[B[y[1]].element,"click",this.buttonToMaxClick],[x,"click",this.trackClick],[A,"mousedown",v],[A.ownerDocument,"mousemove",w],[A.ownerDocument,"mouseup",z]];if(s){C.push([A,"touchstart",v],[A.ownerDocument,"touchmove",w],[A.ownerDocument,"touchend",z])}f(C,function(D){p.apply(null,D)});this._events=C},removeEvents:function(){f(this._events,function(v){q.apply(null,v)});this._events.length=0},destroy:function(){var v=this.chart.scroller;this.removeEvents();f(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(w){if(this[w]&&this[w].destroy){this[w]=this[w].destroy()}},this);if(v&&this===v.scrollbar){v.scrollbar=null;i(v.scrollbarButtons)}}};l(k.prototype,"init",function(w){var v=this;w.apply(v,Array.prototype.slice.call(arguments,1));if(v.options.scrollbar&&v.options.scrollbar.enabled){v.options.scrollbar.vertical=!v.horiz;v.options.startOnTick=v.options.endOnTick=false;v.scrollbar=new e(v.chart.renderer,v.options.scrollbar,v.chart);p(v.scrollbar,"changed",function(A){var z=Math.min(g(v.options.min,v.min),v.min,v.dataMin),x=Math.max(g(v.options.max,v.max),v.max,v.dataMax),y=x-z,C,B;if((v.horiz&&!v.reversed)||(!v.horiz&&v.reversed)){C=z+y*this.to;B=z+y*this.from}else{C=z+y*(1-this.from);B=z+y*(1-this.to)}v.setExtremes(B,C,true,false,A)})}});l(k.prototype,"render",function(y){var w=this,B=Math.min(g(w.options.min,w.min),w.min,g(w.dataMin,w.min)),v=Math.max(g(w.options.max,w.max),w.max,g(w.dataMax,w.max)),C=w.scrollbar,D=w.titleOffset||0,x,A,z;y.apply(w,Array.prototype.slice.call(arguments,1));if(C){if(w.horiz){C.position(w.left,w.top+w.height+2+w.chart.scrollbarsOffsets[1]+(w.opposite?0:D+w.axisTitleMargin+w.offset),w.width,w.height);x=1}else{C.position(w.left+w.width+2+w.chart.scrollbarsOffsets[0]+(w.opposite?D+w.axisTitleMargin+w.offset:0),w.top,w.width,w.height);x=0}if((!w.opposite&&!w.horiz)||(w.opposite&&w.horiz)){w.chart.scrollbarsOffsets[x]+=w.scrollbar.size+w.scrollbar.options.margin}if(isNaN(B)||isNaN(v)||!d(w.min)||!d(w.max)){C.setRange(0,0)}else{A=(w.min-B)/(v-B);z=(w.max-B)/(v-B);if((w.horiz&&!w.reversed)||(!w.horiz&&w.reversed)){C.setRange(A,z)}else{C.setRange(1-z,1-A)}}}});l(k.prototype,"getOffset",function(x){var w=this,v=w.horiz?2:1,y=w.scrollbar;x.apply(w,Array.prototype.slice.call(arguments,1));if(y){w.chart.scrollbarsOffsets=[0,0];w.chart.axisOffset[v]+=y.size+y.options.margin}});l(k.prototype,"destroy",function(v){if(this.scrollbar){this.scrollbar=this.scrollbar.destroy()}v.apply(this,Array.prototype.slice.call(arguments,1))});m.Scrollbar=e}(b));(function(q){var w=q.addEvent,l=q.Axis,A=q.Chart,y=q.color,u=q.defaultDataGroupingUnits,D=q.defaultOptions,c=q.defined,i=q.destroyObjectProperties,f=q.each,F=q.erase,x=q.error,B=q.extend,m=q.grep,C=q.hasTouch,r=q.isArray,t=q.isNumber,o=q.isObject,j=q.isTouchDevice,h=q.merge,e=q.pick,z=q.removeEvent,d=q.Scrollbar,k=q.Series,E=q.seriesTypes,n=q.wrap,v=[].concat(u),s,p=function(H){var G=m(arguments,t);if(G.length){return Math[H].apply(0,G)}};v[4]=["day",[1,2,3,4]];v[5]=["week",[1,2,3]];s=E.areaspline===undefined?"line":"areaspline";B(D,{navigator:{height:40,margin:25,maskInside:true,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:true},series:{type:s,compare:null,dataGrouping:{approximation:"average",enabled:true,groupPixelWidth:2,smoothed:true,units:v},dataLabels:{enabled:false,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:false},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,tickPixelInterval:200,labels:{align:"left",x:3,y:-4},crosshair:false},yAxis:{className:"highcharts-navigator-yaxis",startOnTick:false,endOnTick:false,minPadding:0.1,maxPadding:0.1,labels:{enabled:false},crosshair:false,title:{text:null},tickLength:0,tickWidth:0}}});q.Renderer.prototype.symbols["navigator-handle"]=function(H,N,I,L,K){var M=K.width/2,J=Math.round(M/3)+0.5,G=K.height;return["M",-M-1,0.5,"L",M,0.5,"L",M,G+0.5,"L",-M-1,G+0.5,"L",-M-1,0.5,"M",-J,4,"L",-J,G-3,"M",J-1,4,"L",J-1,G-3]};function g(G){this.init(G)}g.prototype={drawHandle:function(H,K,J,L){var I=this,G=I.navigatorOptions.handles.height;I.handles[K][L](J?{translateX:Math.round(I.left+I.height/2),translateY:Math.round(I.top+parseInt(H,10)+0.5-G)}:{translateX:Math.round(I.left+parseInt(H,10)),translateY:Math.round(I.top+I.height/2-G/2-1)})},drawOutline:function(V,N,M,L){var S=this,O=S.navigatorOptions.maskInside,R=S.outline.strokeWidth(),Q=R/2,P=(R%2)/2,I=S.outlineHeight,H=S.scrollbarHeight,K=S.size,J=S.left-H,U=S.top,G,T;if(M){J-=Q;G=U+N+P;N=U+V+P;T=["M",J+I,U-H-P,"L",J+I,G,"L",J,G,"L",J,N,"L",J+I,N,"L",J+I,U+K+H].concat(O?["M",J+I,G-Q,"L",J+I,N+Q]:[])}else{V+=J+H-P;N+=J+H-P;U+=Q;T=["M",J,U,"L",V,U,"L",V,U+I,"L",N,U+I,"L",N,U,"L",J+K+H*2,U].concat(O?["M",V-Q,U,"L",N+Q,U]:[])}S.outline[L]({d:T})},drawMasks:function(R,K,J,H){var P=this,I=P.left,N=P.top,L=P.height,Q,G,O,M;if(J){O=[I,I,I];M=[N,N+R,N+K];G=[L,L,L];Q=[R,K-R,P.size-K]}else{O=[I,I+R,I+K];M=[N,N,N];G=[R,K-R,P.size-K];Q=[L,L,L]}f(P.shades,function(S,T){S[H]({x:O[T],y:M[T],width:G[T],height:Q[T]})})},renderElements:function(){var G=this,K=G.navigatorOptions,I=K.maskInside,J=G.chart,H=J.inverted,L=J.renderer,M;G.navigatorGroup=M=L.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();f([!I,I,!I],function(O,N){G.shades[N]=L.rect().addClass("highcharts-navigator-mask"+(N===1?"-inside":"-outside")).add(M)});G.outline=L.path().addClass("highcharts-navigator-outline").add(M);if(K.handles.enabled){f([0,1],function(N){K.handles.inverted=J.inverted;G.handles[N]=L.symbol(K.handles.symbols[N],-K.handles.width/2-1,0,K.handles.width,K.handles.height,K.handles);G.handles[N].attr({zIndex:7-N}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][N]).add(M)})}},update:function(G){f(this.series||[],function(I){if(I.baseSeries){delete I.baseSeries.navigatorSeries}});this.destroy();var H=this.chart.options;h(true,H.navigator,this.options,G);this.init(this.chart)},render:function(Y,aa,ac,G){var H=this,U=H.chart,K,M,ab,N=H.scrollbarHeight,T,O=H.xAxis,W=O.fake?U.xAxis[0]:O,L=H.navigatorEnabled,R,X,ad=H.rendered,S=U.inverted,I,Q,V,J,P=U.xAxis[0].minRange,Z=U.xAxis[0].options.maxRange;if(this.hasDragged&&!c(ac)){return}if(!t(Y)||!t(aa)){if(ad){ac=0;G=e(O.width,W.width)}else{return}}H.left=e(O.left,U.plotLeft+N+(S?U.plotWidth:0));H.size=X=T=e(O.len,(S?U.plotHeight:U.plotWidth)-2*N);if(S){K=N}else{K=T+2*N}ac=e(ac,O.toPixels(Y,true));G=e(G,O.toPixels(aa,true));if(!t(ac)||Math.abs(ac)===Infinity){ac=0;G=K}Q=O.toValue(ac,true);V=O.toValue(G,true);J=Math.abs(q.correctFloat(V-Q));if(J<P){if(this.grabbedLeft){ac=O.toPixels(V-P,true)}else{if(this.grabbedRight){G=O.toPixels(Q+P,true)}}}else{if(c(Z)&&J>Z){if(this.grabbedLeft){ac=O.toPixels(V-Z,true)}else{if(this.grabbedRight){G=O.toPixels(Q+Z,true)}}}}H.zoomedMax=Math.min(Math.max(ac,G,0),X);H.zoomedMin=Math.min(Math.max(H.fixedWidth?H.zoomedMax-H.fixedWidth:Math.min(ac,G),0),X);H.range=H.zoomedMax-H.zoomedMin;X=Math.round(H.zoomedMax);R=Math.round(H.zoomedMin);if(L){H.navigatorGroup.attr({visibility:"visible"});I=ad&&!H.hasDragged?"animate":"attr";H.drawMasks(R,X,S,I);H.drawOutline(R,X,S,I);if(H.navigatorOptions.handles.enabled){H.drawHandle(R,0,S,I);H.drawHandle(X,1,S,I)}}if(H.scrollbar){if(S){ab=H.top-N;M=H.left-N+(L||!W.opposite?0:(W.titleOffset||0)+W.axisTitleMargin);N=T+2*N}else{ab=H.top+(L?H.height:-N);M=H.left-N}H.scrollbar.position(M,ab,K,N);H.scrollbar.setRange(H.zoomedMin/T,H.zoomedMax/T)}H.rendered=true},addMouseEvents:function(){var I=this,L=I.chart,H=L.container,J=[],G,K;I.mouseMoveHandler=G=function(M){I.onMouseMove(M)};I.mouseUpHandler=K=function(M){I.onMouseUp(M)};J=I.getPartsEvents("mousedown");J.push(w(H,"mousemove",G),w(H.ownerDocument,"mouseup",K));if(C){J.push(w(H,"touchmove",G),w(H.ownerDocument,"touchend",K));J.concat(I.getPartsEvents("touchstart"))}I.eventsToUnbind=J;if(I.series&&I.series[0]){J.push(w(I.series[0].xAxis,"foundExtremes",function(){L.navigator.modifyNavigatorAxisExtremes()}))}},getPartsEvents:function(H){var G=this,I=[];f(["shades","handles"],function(J){f(G[J],function(L,K){I.push(w(L.element,H,function(M){G[J+"Mousedown"](M,K)}))})});return I},shadesMousedown:function(O,N){O=this.chart.pointer.normalize(O);var R=this,Q=R.chart,I=R.xAxis,T=R.zoomedMin,G=R.left,K=R.size,M=R.range,P=O.chartX,L,S,H,J;if(Q.inverted){P=O.chartY;G=R.top}if(N===1){R.grabbedCenter=P;R.fixedWidth=M;R.dragOffset=P-T}else{J=P-G-M/2;if(N===0){J=Math.max(0,J)}else{if(N===2&&J+M>=K){J=K-M;if(I.reversed){J-=M;S=R.getUnionExtremes().dataMin}else{L=R.getUnionExtremes().dataMax}}}if(J!==T){R.fixedWidth=M;H=I.toFixedRange(J,J+M,S,L);if(c(H.min)){Q.xAxis[0].setExtremes(Math.min(H.min,H.max),Math.max(H.min,H.max),true,null,{trigger:"navigator"})}}}},handlesMousedown:function(L,I){L=this.chart.pointer.normalize(L);var G=this,K=G.chart,J=K.xAxis[0],H=(K.inverted&&!J.reversed)||(!K.inverted&&J.reversed);if(I===0){G.grabbedLeft=true;G.otherHandlePos=G.zoomedMax;G.fixedExtreme=H?J.min:J.max}else{G.grabbedRight=true;G.otherHandlePos=G.zoomedMin;G.fixedExtreme=H?J.max:J.min}K.fixedRange=null},onMouseMove:function(L){var O=this,N=O.chart,G=O.left,H=O.navigatorSize,J=O.range,K=O.dragOffset,I=N.inverted,M;if(!L.touches||L.touches[0].pageX!==0){L=N.pointer.normalize(L);M=L.chartX;if(I){G=O.top;M=L.chartY}if(O.grabbedLeft){O.hasDragged=true;O.render(0,0,M-G,O.otherHandlePos)}else{if(O.grabbedRight){O.hasDragged=true;O.render(0,0,O.otherHandlePos,M-G)}else{if(O.grabbedCenter){O.hasDragged=true;if(M<K){M=K}else{if(M>H+K-J){M=H+K-J}}O.render(0,0,M-K,M-K+J)}}}if(O.hasDragged&&O.scrollbar&&O.scrollbar.options.liveRedraw){L.DOMType=L.type;setTimeout(function(){O.onMouseUp(L)},0)}}},onMouseUp:function(L){var N=this,M=N.chart,H=N.xAxis,J=H&&H.reversed,Q=N.scrollbar,K,O,I,G,P=L.DOMEvent||L;if((N.hasDragged&&(!Q||!Q.hasDragged))||L.trigger==="scrollbar"){K=N.getUnionExtremes();if(N.zoomedMin===N.otherHandlePos){O=N.fixedExtreme}else{if(N.zoomedMax===N.otherHandlePos){I=N.fixedExtreme}}if(N.zoomedMax===N.size){I=J?K.dataMin:K.dataMax}if(N.zoomedMin===0){O=J?K.dataMax:K.dataMin}G=H.toFixedRange(N.zoomedMin,N.zoomedMax,O,I);if(c(G.min)){M.xAxis[0].setExtremes(Math.min(G.min,G.max),Math.max(G.min,G.max),true,N.hasDragged?false:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:P})}}if(L.DOMType!=="mousemove"){N.grabbedLeft=N.grabbedRight=N.grabbedCenter=N.fixedWidth=N.fixedExtreme=N.otherHandlePos=N.hasDragged=N.dragOffset=null}},removeEvents:function(){if(this.eventsToUnbind){f(this.eventsToUnbind,function(G){G()});this.eventsToUnbind=undefined}this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var G=this.baseSeries||[];if(this.navigatorEnabled&&G[0]){if(this.navigatorOptions.adaptToUpdatedData!==false){f(G,function(H){z(H,"updatedData",this.updatedDataHandler)},this)}if(G[0].xAxis){z(G[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)}}},init:function(M){var K=M.options,J=K.navigator,S=J.enabled,I=K.scrollbar,P=I.enabled,Q=S?J.height:0,H=P?I.height:0;this.handles=[];this.shades=[];this.chart=M;this.setBaseSeries();this.height=Q;this.scrollbarHeight=H;this.scrollbarEnabled=P;this.navigatorEnabled=S;this.navigatorOptions=J;this.scrollbarOptions=I;this.outlineHeight=Q+H;this.opposite=e(J.opposite,!S&&M.inverted);var N=this,R=N.baseSeries,L=M.xAxis.length,O=M.yAxis.length,G=R&&R[0]&&R[0].xAxis||M.xAxis[0]||{options:{}};w(M,"getMargins",function(){var T=N.opposite?"plotTop":"marginBottom";if(M.inverted){T=N.opposite?"marginRight":"plotLeft"}M[T]=(M[T]||0)+(S||!M.inverted?N.outlineHeight:0)+J.margin});M.isDirtyBox=true;if(N.navigatorEnabled){N.xAxis=new l(M,h({breaks:G.options.breaks,ordinal:G.options.ordinal},J.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:true,type:"datetime",index:L,offset:0,keepOrdinalPadding:true,startOnTick:false,endOnTick:false,minPadding:0,maxPadding:0,zoomEnabled:false},M.inverted?{offsets:[H,0,-H,0],width:Q}:{offsets:[0,-H,0,H],height:Q}));N.yAxis=new l(M,h(J.yAxis,{id:"navigator-y-axis",alignTicks:false,offset:0,index:O,zoomEnabled:false},M.inverted?{width:Q}:{height:Q}));if(R||J.series.data){N.updateNavigatorSeries(false)}else{if(M.series.length===0){N.unbindRedraw=w(M,"beforeRedraw",function(){if(M.series.length>0&&!N.series){N.setBaseSeries();N.unbindRedraw()}})}}N.renderElements();N.addMouseEvents()}else{N.xAxis={translate:function(Y,U){var X=M.xAxis[0],W=X.getExtremes(),T=X.len-2*H,V=p("min",X.options.min,W.dataMin),Z=p("max",X.options.max,W.dataMax)-V;return U?(Y*Z/T)+V:T*(Y-V)/Z},toPixels:function(T){return this.translate(T)},toValue:function(T){return this.translate(T,true)},toFixedRange:l.prototype.toFixedRange,fake:true}}if(M.options.scrollbar.enabled){M.scrollbar=N.scrollbar=new d(M.renderer,h(M.options.scrollbar,{margin:N.navigatorEnabled?0:10,vertical:M.inverted}),M);w(N.scrollbar,"changed",function(U){var T=N.size,W=T*this.to,V=T*this.from;N.hasDragged=N.scrollbar.hasDragged;N.render(0,0,V,W);if(M.options.scrollbar.liveRedraw||(U.DOMType!=="mousemove"&&U.DOMType!=="touchmove")){setTimeout(function(){N.onMouseUp(U)})}})}N.addBaseSeriesEvents();N.addChartEvents()},getUnionExtremes:function(I){var K=this.chart.xAxis[0],G=this.xAxis,L=G.options,H=K.options,J;if(!I||K.dataMin!==null){J={dataMin:e(L&&L.min,p("min",H.min,K.dataMin,G.dataMin,G.min)),dataMax:e(L&&L.max,p("max",H.max,K.dataMax,G.dataMax,G.max))}}return J},setBaseSeries:function(G,J){var I=this.chart,H=this.baseSeries=[];G=(G||I.options&&I.options.navigator.baseSeries||0);f(I.series||[],function(L,K){if(!L.options.isInternal&&(L.options.showInNavigator||(K===G||L.options.id===G)&&L.options.showInNavigator!==false)){H.push(L)}});if(this.xAxis&&!this.xAxis.fake){this.updateNavigatorSeries(true,J)}},updateNavigatorSeries:function(J,Q){var O=this,N=O.chart,R=O.baseSeries,L,I,K=O.navigatorOptions.series,P,M={enableMouseTracking:false,index:null,linkedTo:null,group:"nav",padXAxis:false,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:false,stacking:false,isInternal:true},H=O.series=q.grep(O.series||[],function(S){var T=S.baseSeries;if(q.inArray(T,R)<0){if(T){z(T,"updatedData",O.updatedDataHandler);delete T.navigatorSeries}S.destroy();return false}return true});if(R&&R.length){f(R,function G(U){var V=U.navigatorSeries,T=B({color:U.color,visible:U.visible},!r(K)?K:D.navigator.series);if(V&&O.navigatorOptions.adaptToUpdatedData===false){return}M.name="Navigator "+R.length;L=U.options||{};P=L.navigatorOptions||{};I=h(L,M,T,P);var S=P.data||T.data;O.hasNavigatorData=O.hasNavigatorData||!!S;I.data=S||L.data&&L.data.slice(0);if(V&&V.options){V.update(I,Q)}else{U.navigatorSeries=N.initSeries(I);U.navigatorSeries.baseSeries=U;H.push(U.navigatorSeries)}})}if(K.data&&!(R&&R.length)||r(K)){O.hasNavigatorData=false;K=q.splat(K);f(K,function(T,S){M.name="Navigator "+(H.length+1);I=h(D.navigator.series,{color:N.series[S]&&!N.series[S].options.isInternal&&N.series[S].color||N.options.colors[S]||N.options.colors[0]},M,T);I.data=T.data;if(I.data){O.hasNavigatorData=true;H.push(N.initSeries(I))}})}if(J){this.addBaseSeriesEvents()}},addBaseSeriesEvents:function(){var G=this,H=G.baseSeries||[];if(H[0]&&H[0].xAxis){w(H[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)}f(H,function(I){w(I,"show",function(){if(this.navigatorSeries){this.navigatorSeries.setVisible(true,false)}});w(I,"hide",function(){if(this.navigatorSeries){this.navigatorSeries.setVisible(false,false)}});if(this.navigatorOptions.adaptToUpdatedData!==false){if(I.xAxis){w(I,"updatedData",this.updatedDataHandler)}}w(I,"remove",function(){if(this.navigatorSeries){F(G.series,this.navigatorSeries);if(c(this.navigatorSeries.options)){this.navigatorSeries.remove(false)}delete this.navigatorSeries}})},this)},modifyNavigatorAxisExtremes:function(){var G=this.xAxis,H;if(G.getExtremes){H=this.getUnionExtremes(true);if(H&&(H.dataMin!==G.min||H.dataMax!==G.max)){G.min=H.dataMin;G.max=H.dataMax}}},modifyBaseAxisExtremes:function(){var L=this,S=L.chart.navigator,V=L.getExtremes(),U=V.min,I=V.max,N=V.dataMin,R=V.dataMax,O=I-U,J=S.stickToMin,P=S.stickToMax,H=e(L.options.overscroll,0),Q,K,G=S.series&&S.series[0],M=!!L.setExtremes,T=L.eventArgs&&L.eventArgs.trigger==="rangeSelectorButton";if(!T){if(J){K=N;Q=K+O}if(P){Q=R+H;if(!J){K=Math.max(Q-O,G&&G.xData?G.xData[0]:-Number.MAX_VALUE)}}if(M&&(J||P)){if(t(K)){L.min=L.userMin=K;L.max=L.userMax=Q}}}S.stickToMin=S.stickToMax=null},updatedDataHandler:function(){var G=this.chart.navigator,I=this,H=this.navigatorSeries;G.stickToMax=G.xAxis.reversed?Math.round(G.zoomedMin)===0:Math.round(G.zoomedMax)>=Math.round(G.size);G.stickToMin=t(I.xAxis.min)&&(I.xAxis.min<=I.xData[0])&&(!this.chart.fixedRange||!G.stickToMax);if(H&&!G.hasNavigatorData){H.options.pointStart=I.xData[0];H.setData(I.options.data,false,null,false)}},addChartEvents:function(){w(this.chart,"redraw",function(){var G=this.navigator,H=G&&(G.baseSeries&&G.baseSeries[0]&&G.baseSeries[0].xAxis||G.scrollbar&&this.xAxis[0]);if(H){G.render(H.min,H.max)}})},destroy:function(){this.removeEvents();if(this.xAxis){F(this.chart.xAxis,this.xAxis);F(this.chart.axes,this.xAxis)}if(this.yAxis){F(this.chart.yAxis,this.yAxis);F(this.chart.axes,this.yAxis)}f(this.series||[],function(G){if(G.destroy){G.destroy()}});f(["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"],function(G){if(this[G]&&this[G].destroy){this[G].destroy()}this[G]=null},this);f([this.handles],function(G){i(G)},this)}};q.Navigator=g;n(l.prototype,"zoom",function(M,G,O){var N=this.chart,H=N.options,Q=H.chart.zoomType,J=H.chart.pinchType,I,P=H.navigator,L=H.rangeSelector,K;if(this.isXAxis&&((P&&P.enabled)||(L&&L.enabled))){if((!j&&Q==="x")||(j&&J==="x")){N.resetZoomButton="blocked"}else{if(Q==="y"){K=false}else{if(((!j&&Q==="xy")||(j&&J==="xy"))&&this.options.range){I=this.previousZoom;if(c(G)){this.previousZoom=[this.min,this.max]}else{if(I){G=I[0];O=I[1];delete this.previousZoom}}}}}}return K!==undefined?K:M.call(this,G,O)});w(A,"beforeRender",function(){var G=this.options;if(G.navigator.enabled||G.scrollbar.enabled){this.scroller=this.navigator=new g(this)}});w(A,"afterSetChartSize",function(){var J=this.legend,G=this.navigator,L,I,K,H;if(G){I=J&&J.options;K=G.xAxis;H=G.yAxis;L=G.scrollbarHeight;if(this.inverted){G.left=G.opposite?this.chartWidth-L-G.height:this.spacing[3]+L;G.top=this.plotTop+L}else{G.left=this.plotLeft+L;G.top=G.navigatorOptions.top||this.chartHeight-G.height-L-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-((I&&I.verticalAlign==="bottom"&&I.enabled&&!I.floating)?J.legendHeight+e(I.margin,10):0)}if(K&&H){if(this.inverted){K.options.left=H.options.left=G.left}else{K.options.top=H.options.top=G.top}K.setAxisSize();H.setAxisSize()}}});w(A,"update",function(I){var G=(I.options.navigator||{}),H=(I.options.scrollbar||{});if(!this.navigator&&!this.scroller&&(G.enabled||H.enabled)){h(true,this.options.navigator,G);h(true,this.options.scrollbar,H);delete I.options.navigator;delete I.options.scrollbar}});w(A,"afterUpdate",function(){if(!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)){this.scroller=this.navigator=new g(this)}});n(k.prototype,"addPoint",function(J,I,L,H,K){var G=this.options.turboThreshold;if(G&&this.xData.length>G&&o(I,true)&&this.chart.navigator){x(20,true)}J.call(this,I,L,H,K)});w(A,"afterAddSeries",function(){if(this.navigator){this.navigator.setBaseSeries(null,false)}});w(k,"afterUpdate",function(){if(this.chart.navigator&&!this.options.isInternal){this.chart.navigator.setBaseSeries(null,false)}});A.prototype.callbacks.push(function(H){var I,G=H.navigator;if(G&&H.xAxis[0]){I=H.xAxis[0].getExtremes();G.render(I.min,I.max)}})}(b));(function(k){var o=k.addEvent,i=k.Axis,q=k.Chart,l=k.css,n=k.createElement,t=k.defaultOptions,d=k.defined,h=k.destroyObjectProperties,p=k.discardElement,e=k.each,s=k.extend,v=k.fireEvent,m=k.isNumber,g=k.merge,f=k.pick,c=k.pInt,u=k.splat,j=k.wrap;s(t,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:false,x:0,y:0,height:undefined,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0}}});t.lang=g(t.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});function r(w){this.init(w)}r.prototype={clickButton:function(N,M){var F=this,I=F.chart,E=F.buttonOptions[N],C=I.xAxis[0],y=(I.scroller&&I.scroller.getUnionExtremes())||C||{},O=y.dataMin,Q=y.dataMax,G,J=C&&Math.round(Math.min(C.max,f(Q,C.max))),x=E.type,w,H=E._range,B,z,P,L,A,D=E.dataGrouping;if(O===null||Q===null){return}I.fixedRange=H;if(D){this.forcedDataGrouping=true;i.prototype.setDataGrouping.call(C||{chart:this.chart},D,false)}if(x==="month"||x==="year"){if(!C){H=E}else{L={range:E,max:J,chart:I,dataMin:O,dataMax:Q};G=C.minFromRange.call(L);if(m(L.newMax)){J=L.newMax}}}else{if(H){G=Math.max(J-H,O);J=Math.min(G+H,Q)}else{if(x==="ytd"){if(C){if(Q===undefined){O=Number.MAX_VALUE;Q=Number.MIN_VALUE;e(I.series,function(R){var S=R.xData;O=Math.min(S[0],O);Q=Math.max(S[S.length-1],Q)});M=false}A=F.getYTDExtremes(Q,O,I.time.useUTC);G=B=A.min;J=A.max}else{o(I,"beforeRender",function(){F.clickButton(N)});return}}else{if(x==="all"&&C){G=O;J=Q}}}}G+=E._offsetMin;J+=E._offsetMax;F.setSelected(N);if(!C){w=u(I.options.xAxis)[0];P=w.range;w.range=H;z=w.min;w.min=B;o(I,"load",function K(){w.range=P;w.min=z})}else{C.setExtremes(G,J,f(M,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:E})}},setSelected:function(w){this.selected=this.options.selected=w},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(y){var A=this,w=y.options.rangeSelector,B=w.buttons||[].concat(A.defaultButtons),x=w.selected,z=function(){var C=A.minInput,D=A.maxInput;if(C&&C.blur){v(C,"blur")}if(D&&D.blur){v(D,"blur")}};A.chart=y;A.options=w;A.buttons=[];y.extraTopMargin=w.height;A.buttonOptions=B;this.unMouseDown=o(y.container,"mousedown",z);this.unResize=o(y,"resize",z);e(B,A.computeButtonRange);if(x!==undefined&&B[x]){this.clickButton(x,false)}o(y,"load",function(){if(y.xAxis&&y.xAxis[0]){o(y.xAxis[0],"setExtremes",function(C){if(this.max-this.min!==y.fixedRange&&C.trigger!=="rangeSelectorButton"&&C.trigger!=="updatedData"&&A.forcedDataGrouping){this.setDataGrouping(false,false)}})}})},updateButtonStates:function(){var D=this,E=this.chart,x=E.xAxis[0],B=Math.round(x.max-x.min),J=!x.hasVisibleSeries,I=24*3600000,C=(E.scroller&&E.scroller.getUnionExtremes())||x,L=C.dataMin,z=C.dataMax,K=D.getYTDExtremes(z,L,E.time.useUTC),y=K.min,H=K.max,A=D.selected,G=m(A),w=D.options.allButtonsEnabled,F=D.buttons;e(D.buttonOptions,function(aa,O){var R=aa._range,V=aa.type,T=aa.count||1,Q=F[O],M=0,P,Z,ab=aa._offsetMax-aa._offsetMin,N=O===A,X=R>z-L,U=R<x.minRange,W=false,Y=false,S=R===B;if((V==="month"||V==="year")&&(B+3600000>={month:28,year:365}[V]*I*T-ab)&&(B-3600000<={month:31,year:366}[V]*I*T+ab)){S=true}else{if(V==="ytd"){S=(H-y+ab)===B;W=!N}else{if(V==="all"){S=x.max-x.min>=z-L;Y=(!N&&G&&S)}}}P=(!w&&(X||U||Y||J));Z=((N&&S)||(S&&!G&&!W));if(P){M=3}else{if(Z){G=true;M=2}}if(Q.state!==M){Q.setState(M)}})},computeButtonRange:function(y){var x=y.type,z=y.count||1,w={millisecond:1,second:1000,minute:60*1000,hour:3600*1000,day:24*3600*1000,week:7*24*3600*1000};if(w[x]){y._range=w[x]*z}else{if(x==="month"||x==="year"){y._range={month:30,year:365}[x]*24*3600000*z}}y._offsetMin=f(y.offsetMin,0);y._offsetMax=f(y.offsetMax,0);y._range+=y._offsetMax-y._offsetMin},setInputValue:function(y,A){var x=this.chart.options.rangeSelector,z=this.chart.time,w=this[y+"Input"];if(d(A)){w.previousValue=w.HCTime;w.HCTime=A}w.value=z.dateFormat(x.inputEditDateFormat||"%Y-%m-%d",w.HCTime);this[y+"DateBox"].attr({text:z.dateFormat(x.inputDateFormat||"%b %e, %Y",w.HCTime)})},showInput:function(x){var w=this.inputGroup,y=this[x+"DateBox"];l(this[x+"Input"],{left:(w.translateX+y.x)+"px",top:w.translateY+"px",width:(y.width-2)+"px",height:(y.height-2)+"px",border:"2px solid silver"})},hideInput:function(w){l(this[w+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(w)},drawInput:function(z){var E=this,G=E.chart,D=G.renderer.style||{},F=G.renderer,J=G.options.rangeSelector,A=t.lang,y=E.div,C=z==="min",I,H,x,B=this.inputGroup;function w(){var K=I.value,O=(J.inputDateParser||Date.parse)(K),N=G.xAxis[0],L=G.scroller&&G.scroller.xAxis?G.scroller.xAxis:N,P=L.dataMin,M=L.dataMax;if(O!==I.previousValue){I.previousValue=O;if(!m(O)){O=K.split("-");O=Date.UTC(c(O[0]),c(O[1])-1,c(O[2]))}if(m(O)){if(!G.time.useUTC){O=O+new Date().getTimezoneOffset()*60*1000}if(C){if(O>E.maxInput.HCTime){O=undefined}else{if(O<P){O=P}}}else{if(O<E.minInput.HCTime){O=undefined}else{if(O>M){O=M}}}if(O!==undefined){N.setExtremes(C?O:N.min,C?N.max:O,undefined,undefined,{trigger:"rangeSelectorInput"})}}}}this[z+"Label"]=H=F.label(A[C?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(B);B.offset+=H.width+5;this[z+"DateBox"]=x=F.label("",B.offset).addClass("highcharts-range-input").attr({padding:2,width:J.inputBoxWidth||90,height:J.inputBoxHeight||17,stroke:J.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){E.showInput(z);E[z+"Input"].focus()}).add(B);B.offset+=x.width+(C?10:0);this[z+"Input"]=I=n("input",{name:z,className:"highcharts-range-selector",type:"text"},{top:G.plotTop+"px"},y);I.onfocus=function(){E.showInput(z)};I.onblur=function(){E.hideInput(z)};I.onchange=w;I.onkeypress=function(K){if(K.keyCode===13){w()}}},getPosition:function(){var x=this.chart,w=x.options.rangeSelector,y=w.verticalAlign==="top"?x.plotTop-x.axisOffset[0]:0;return{buttonTop:y+w.buttonPosition.y,inputTop:y+w.inputPosition.y-10}},getYTDExtremes:function(A,C,D){var B=this.chart.time,y,x=new B.Date(A),z=B.get("FullYear",x),w=D?B.Date.UTC(z,0,1):+new B.Date(z,0,1);y=Math.max(C||0,w);x=x.getTime();return{max:Math.min(A||x,x),min:y}},render:function(ak,K){var D=this,aj=D.chart,S=aj.renderer,R=aj.container,ai=aj.options,J=(ai.exporting&&ai.exporting.enabled!==false&&ai.navigation&&ai.navigation.buttonOptions),A=t.lang,ag=D.div,M=ai.rangeSelector,L=M.floating,P=D.buttons,V=D.inputGroup,w=M.buttonTheme,X=M.buttonPosition,T=M.inputPosition,af=M.inputEnabled,ab=w&&w.states,Q=aj.plotLeft,W,Y=D.buttonGroup,I,ah,aa=D.rendered,y=D.options.verticalAlign,U=aj.legend,C=U&&U.options,E=X.y,B=T.y,ae=aa||false,x=0,H,z,N,Z=0,ac;if(M.enabled===false){return}if(!aa){D.group=I=S.g("range-selector-group").attr({zIndex:7}).add();D.buttonGroup=Y=S.g("range-selector-buttons").add(I);D.zoomText=S.text(A.rangeSelectorZoom,f(Q+X.x,Q),15).css(M.labelStyle).add(Y);W=f(Q+X.x,Q)+D.zoomText.getBBox().width+5;e(D.buttonOptions,function(am,al){P[al]=S.button(am.text,W,0,function(){var an=(am.events&&am.events.click),ao;if(an){ao=an.call(am)}if(ao!==false){D.clickButton(al)}D.isActive=true},w,ab&&ab.hover,ab&&ab.select,ab&&ab.disabled).attr({"text-align":"center"}).add(Y);W+=P[al].width+f(M.buttonSpacing,5)});if(af!==false){D.div=ag=n("div",null,{position:"relative",height:0,zIndex:1});R.parentNode.insertBefore(ag,R);D.inputGroup=V=S.g("input-group").add(I);V.offset=0;D.drawInput("min");D.drawInput("max")}}Q=aj.plotLeft-aj.spacing[3];D.updateButtonStates();if(J&&this.titleCollision(aj)&&y==="top"&&X.align==="right"&&((X.y+Y.getBBox().height-12)<((J.y||0)+J.height))){x=-40}if(X.align==="left"){ac=X.x-aj.spacing[3]}else{if(X.align==="right"){ac=X.x+x-aj.spacing[1]}}Y.align({y:X.y,width:Y.getBBox().width,align:X.align,x:ac},true,aj.spacingBox);D.group.placed=ae;D.buttonGroup.placed=ae;if(af!==false){var ad,O,G,F;if(J&&this.titleCollision(aj)&&y==="top"&&T.align==="right"&&((T.y-V.getBBox().height-12)<((J.y||0)+J.height+aj.spacing[0]))){x=-40}else{x=0}if(T.align==="left"){ac=Q}else{if(T.align==="right"){ac=-Math.max(aj.axisOffset[1],-x)}}V.align({y:T.y,width:V.getBBox().width,align:T.align,x:T.x+ac-2},true,aj.spacingBox);ad=(V.alignAttr.translateX+V.alignOptions.x-x+V.getBBox().x+2);O=V.alignOptions.width;G=Y.alignAttr.translateX+Y.getBBox().x;F=Y.getBBox().width+20;if((T.align===X.align)||((G+F>ad)&&(ad+O>G)&&(E<(B+V.getBBox().height)))){V.attr({translateX:V.alignAttr.translateX+(aj.axisOffset[1]>=-x?0:-x),translateY:V.alignAttr.translateY+Y.getBBox().height+10})}D.setInputValue("min",ak);D.setInputValue("max",K);D.inputGroup.placed=ae}D.group.align({verticalAlign:y},true,aj.spacingBox);ah=D.group.getBBox().height+20;H=D.group.alignAttr.translateY;if(y==="bottom"){z=(C&&C.verticalAlign==="bottom"&&C.enabled&&!C.floating?U.legendHeight+f(C.margin,10):0);ah=ah+z-20;Z=(H-ah-(L?0:M.y)-10)}if(y==="top"){if(L){Z=0}if(aj.titleOffset){Z=aj.titleOffset+aj.options.title.margin}Z+=((aj.margin[0]-aj.spacing[0])||0)}else{if(y==="middle"){if(B===E){if(B<0){Z=H+N}else{Z=H}}else{if(B||E){if(B<0||E<0){Z-=Math.min(B,E)}else{Z=H-ah+N}}}}}D.group.translate(M.x,M.y+Math.floor(Z));if(af!==false){D.minInput.style.marginTop=D.group.translateY+"px";D.maxInput.style.marginTop=D.group.translateY+"px"}D.rendered=true},getHeight:function(){var C=this,F=C.options,y=C.group,E=F.inputPosition,w=F.buttonPosition,B=F.y,z=w.y,A=E.y,D=0,x;D=y?(y.getBBox(true).height)+13+B:0;x=Math.min(A,z);if((A<0&&z<0)||(A>0&&z>0)){D+=Math.abs(x)}return D},titleCollision:function(w){return !(w.options.title.text||w.options.subtitle.text)},update:function(w){var x=this.chart;g(true,x.options.rangeSelector,w);this.destroy();this.init(x);x.rangeSelector.render()},destroy:function(){var w=this,x=w.minInput,y=w.maxInput;w.unMouseDown();w.unResize();h(w.buttons);if(x){x.onfocus=x.onblur=x.onchange=null}if(y){y.onfocus=y.onblur=y.onchange=null}k.objectEach(w,function(A,z){if(A&&z!=="chart"){if(A.destroy){A.destroy()}else{if(A.nodeType){p(this[z])}}}if(A!==r.prototype[z]){w[z]=null}},this)}};i.prototype.toFixedRange=function(z,w,B,x){var C=this.chart&&this.chart.fixedRange,D=f(B,this.translate(z,true,!this.horiz)),A=f(x,this.translate(w,true,!this.horiz)),y=C&&(A-D)/C;if(y>0.7&&y<1.3){if(x){D=A-C}else{A=D+C}}if(!m(D)||!m(A)){D=A=undefined}return{min:D,max:A}};i.prototype.minFromRange=function(){var C=this.range,B=C.type,A={month:"Month",year:"FullYear"}[B],z,w=this.max,D,x,y=function(G,F){var E=new Date(G),H=E["get"+A]();E["set"+A](H+F);if(H===E["get"+A]()){E.setDate(0)}return E.getTime()-G};if(m(C)){z=w-C;x=C}else{z=w+y(w,-C.count);if(this.chart){this.chart.fixedRange=w-z}}D=f(this.dataMin,Number.MIN_VALUE);if(!m(z)){z=D}if(z<=D){z=D;if(x===undefined){x=y(z,C.count)}this.newMax=Math.min(z+x,this.dataMax)}if(!m(w)){z=undefined}return z};o(q,"afterGetContainer",function(){if(this.options.rangeSelector.enabled){this.rangeSelector=new r(this)}});j(q.prototype,"render",function(y,w,C){var x=this,z=x.axes,A=x.rangeSelector,B;if(A){e(z,function(D){D.updateNames();D.setScale()});x.getAxisMargins();A.render();B=A.options.verticalAlign;if(!A.options.floating){if(B==="bottom"){this.extraBottomMargin=true}else{if(B!=="middle"){this.extraTopMargin=true}}}}y.call(this,w,C)});o(q,"update",function(y){var x=this,w=y.options,z=x.rangeSelector,A;this.extraBottomMargin=false;this.extraTopMargin=false;this.isDirtyBox=true;if(z){z.render();A=(w.rangeSelector&&w.rangeSelector.verticalAlign)||(z.options&&z.options.verticalAlign);if(!z.options.floating){if(A==="bottom"){this.extraBottomMargin=true}else{if(A!=="middle"){this.extraTopMargin=true}}}}});j(q.prototype,"redraw",function(y,w,B){var x=this,z=x.rangeSelector,A;if(z&&!z.options.floating){z.render();A=z.options.verticalAlign;if(A==="bottom"){this.extraBottomMargin=true}else{if(A!=="middle"){this.extraTopMargin=true}}}y.call(this,w,B)});o(q,"getMargins",function(){var x=this.rangeSelector,w;if(x){w=x.getHeight();if(this.extraTopMargin){this.plotTop+=w}if(this.extraBottomMargin){this.marginBottom+=w}}});q.prototype.callbacks.push(function(y){var C,B=y.rangeSelector,w,x;function z(){C=y.xAxis[0].getExtremes();if(m(C.min)){B.render(C.min,C.max)}}if(B){x=o(y.xAxis[0],"afterSetExtremes",function(D){B.render(D.min,D.max)});w=o(y,"redraw",z);z()}o(y,"destroy",function A(){if(B){w();x()}})});k.RangeSelector=r}(b));(function(n){var u=n.addEvent,p=n.arrayMax,m=n.arrayMin,j=n.Axis,y=n.Chart,d=n.defined,e=n.each,z=n.extend,w=n.format,k=n.grep,x=n.inArray,q=n.isNumber,o=n.isString,B=n.map,g=n.merge,f=n.pick,C=n.Point,t=n.Renderer,i=n.Series,A=n.splat,s=n.SVGRenderer,D=n.VMLRenderer,l=n.wrap,c=i.prototype,r=c.init,v=c.processData,h=C.prototype.tooltipFormatter;n.StockChart=n.stockChart=function(K,J,H){var P=o(K)||K.nodeName,O=arguments[P?1:0],E=O.series,F=n.getOptions(),G,N=f(O.navigator&&O.navigator.enabled,F.navigator.enabled,true),I=N?{startOnTick:false,endOnTick:false}:null,M={marker:{enabled:false,radius:2}},L={shadow:false,borderWidth:0};O.xAxis=B(A(O.xAxis||{}),function(Q,R){return g({minPadding:0,maxPadding:0,overscroll:0,ordinal:true,title:{text:null},labels:{overflow:"justify"},showLastLabel:true},F.xAxis,F.xAxis&&F.xAxis[R],Q,{type:"datetime",categories:null},I)});O.yAxis=B(A(O.yAxis||{}),function(R,Q){G=f(R.opposite,true);return g({labels:{y:-2},opposite:G,showLastLabel:!!(R.categories||R.type==="category"),title:{text:null}},F.yAxis,F.yAxis&&F.yAxis[Q],R)});O.series=null;O=g({chart:{panning:true,pinchType:"x"},navigator:{enabled:N},scrollbar:{enabled:f(F.scrollbar.enabled,true)},rangeSelector:{enabled:f(F.rangeSelector.enabled,true)},title:{text:null},tooltip:{split:f(F.tooltip.split,true),crosshairs:true},legend:{enabled:false},plotOptions:{line:M,spline:M,area:M,areaspline:M,arearange:M,areasplinerange:M,column:L,columnrange:L,candlestick:L,ohlc:L}},O,{isStock:true});O.series=E;return P?new y(K,O,H):new y(O,J)};l(j.prototype,"autoLabelAlign",function(J){var I=this.chart,F=this.options,H=I._labelPanes=I._labelPanes||{},G,E=this.options.labels;if(this.chart.options.isStock&&this.coll==="yAxis"){G=F.top+","+F.height;if(!H[G]&&E.enabled){if(E.x===15){E.x=0}if(E.align===undefined){E.align="right"}H[G]=this;return"right"}}return J.apply(this,[].slice.call(arguments,1))});u(j,"destroy",function(){var F=this.chart,E=this.options&&(this.options.top+","+this.options.height);if(E&&F._labelPanes&&F._labelPanes[E]===this){delete F._labelPanes[E]}});l(j.prototype,"getPlotLinePath",function(K,U,E,F,G,Z){var I=this,N=(this.isLinked&&!this.series?this.linkedParent.series:this.series),Q=I.chart,V=Q.renderer,P=I.left,M=I.top,Y,J,X,H,O=[],W=[],T,R,L;function S(ac){var aa=ac==="xAxis"?"yAxis":"xAxis",ab=I.options[aa];if(q(ab)){return[Q[aa][ab]]}if(o(ab)){return[Q.get(ab)]}return B(N,function(ad){return ad[aa]})}if(I.coll!=="xAxis"&&I.coll!=="yAxis"){return K.apply(this,[].slice.call(arguments,1))}W=S(I.coll);T=(I.isXAxis?Q.yAxis:Q.xAxis);e(T,function(aa){if(d(aa.options.id)?aa.options.id.indexOf("navigator")===-1:true){var ab=(aa.isXAxis?"yAxis":"xAxis"),ac=(d(aa.options[ab])?Q[ab][aa.options[ab]]:Q[ab][0]);if(I===ac){W.push(aa)}}});R=W.length?[]:[I.isXAxis?Q.yAxis[0]:Q.xAxis[0]];e(W,function(aa){if(x(aa,R)===-1&&!n.find(R,function(ab){return ab.pos===aa.pos&&ab.len&&aa.len})){R.push(aa)}});L=f(Z,I.translate(U,null,null,F));if(q(L)){if(I.horiz){e(R,function(aa){var ab;J=aa.pos;H=J+aa.len;Y=X=Math.round(L+I.transB);if(Y<P||Y>P+I.width){if(G){Y=X=Math.min(Math.max(P,Y),P+I.width)}else{ab=true}}if(!ab){O.push("M",Y,J,"L",X,H)}})}else{e(R,function(aa){var ab;Y=aa.pos;X=Y+aa.len;J=H=Math.round(M+I.height-L);if(J<M||J>M+I.height){if(G){J=H=Math.min(Math.max(M,J),I.top+I.height)}else{ab=true}}if(!ab){O.push("M",Y,J,"L",X,H)}})}}return O.length>0?V.crispPolyLine(O,E||1):null});s.prototype.crispPolyLine=function(G,F){var E;for(E=0;E<G.length;E=E+6){if(G[E+1]===G[E+4]){G[E+1]=G[E+4]=Math.round(G[E+1])-(F%2/2)}if(G[E+2]===G[E+5]){G[E+2]=G[E+5]=Math.round(G[E+2])+(F%2/2)}}return G};l(j.prototype,"hideCrosshair",function(F,E){F.call(this,E);if(this.crossLabel){this.crossLabel=this.crossLabel.hide()}});u(j,"afterDrawCrosshair",function(T){if(!d(this.crosshair.label)||!this.crosshair.label.enabled||!this.cross){return}var M=this.chart,G=this.options.crosshair.label,Y=this.horiz,J=this.opposite,H=this.left,L=this.top,F=this.crossLabel,Q,O,K,V=G.format,E="",X,S,U=this.options.tickPosition==="inside",N=this.crosshair.snap!==false,P,I=0,W=T.e||(this.cross&&this.cross.e),R=T.point;S=(Y?"center":J?(this.labelAlign==="right"?"right":"left"):(this.labelAlign==="left"?"left":"center"));if(!F){F=this.crossLabel=M.renderer.label(null,null,null,G.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:G.align||S,padding:f(G.padding,8),r:f(G.borderRadius,3),zIndex:2}).add(this.labelGroup)}if(Y){Q=N?R.plotX+H:W.chartX;O=L+(J?0:this.height)}else{Q=J?this.width+H:0;O=N?R.plotY+L:W.chartY}if(!V&&!G.formatter){if(this.isDatetimeAxis){E="%b %d, %Y"}V="{value"+(E?":"+E:"")+"}"}P=N?R[this.isXAxis?"x":"y"]:this.toValue(Y?W.chartX:W.chartY);F.attr({text:V?w(V,{value:P},M.time):G.formatter.call(this,P),x:Q,y:O,visibility:P<this.min||P>this.max?"hidden":"visible"});K=F.getBBox();if(Y){if((U&&!J)||(!U&&J)){O=F.y-K.height}}else{O=F.y-(K.height/2)}if(Y){X={left:H-K.x,right:H+this.width-K.x}}else{X={left:this.labelAlign==="left"?H:0,right:this.labelAlign==="right"?H+this.width:M.chartWidth}}if(F.translateX<X.left){I=X.left-F.translateX}if(F.translateX+K.width>=X.right){I=-(F.translateX+K.width-X.right)}F.attr({x:Q+I,y:O,anchorX:Y?Q:(this.opposite?0:M.chartWidth),anchorY:Y?(this.opposite?M.chartHeight:0):O+K.height/2})});c.init=function(){r.apply(this,arguments);this.setCompare(this.options.compare)};c.setCompare=function(E){this.modifyValue=(E==="value"||E==="percent")?function(H,G){var F=this.compareValue;if(H!==undefined&&F!==undefined){if(E==="value"){H-=F}else{H=100*(H/F)-(this.options.compareBase===100?0:100)}if(G){G.change=H}return H}}:null;this.userOptions.compare=E;if(this.chart.hasRendered){this.isDirty=true}};c.processData=function(){var J=this,I,H=-1,G,L,F=J.options.compareStart===true?0:1,K,E;v.apply(this,arguments);if(J.xAxis&&J.processedYData){G=J.processedXData;L=J.processedYData;K=L.length;if(J.pointArrayMap){H=x("close",J.pointArrayMap);if(H===-1){H=x(J.pointValKey||"y",J.pointArrayMap)}}for(I=0;I<K-F;I++){E=L[I]&&H>-1?L[I][H]:L[I];if(q(E)&&G[I+F]>=J.xAxis.min&&E!==0){J.compareValue=E;break}}}};l(c,"getExtremes",function(E){var F;E.apply(this,[].slice.call(arguments,1));if(this.modifyValue){F=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)];this.dataMin=m(F);this.dataMax=p(F)}});j.prototype.setCompare=function(E,F){if(!this.isXAxis){e(this.series,function(G){G.setCompare(E)});if(f(F,true)){this.chart.redraw()}}};C.prototype.tooltipFormatter=function(F){var E=this;F=F.replace("{point.change}",(E.change>0?"+":"")+n.numberFormat(E.change,f(E.series.tooltipOptions.changeDecimals,2)));return h.apply(this,[F])};l(i.prototype,"render",function(E){var F;if(!(this.chart.is3d&&this.chart.is3d())&&!this.chart.polar&&this.xAxis&&!this.xAxis.isRadial){F=this.yAxis.len-(this.xAxis.axisLine?Math.floor(this.xAxis.axisLine.strokeWidth()/2):0);if(!this.clipBox&&this.animate){this.clipBox=g(this.chart.clipBox);this.clipBox.width=this.xAxis.len;this.clipBox.height=F}else{if(this.chart[this.sharedClipKey]){this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:F})}else{if(this.clipBox){this.clipBox.width=this.xAxis.len;this.clipBox.height=F}}}}E.call(this)});l(y.prototype,"getSelectedPoints",function(F){var E=F.call(this);e(this.series,function(G){if(G.hasGroupedData){E=E.concat(k(G.points||[],function(H){return H.selected}))}});return E});u(y,"update",function(F){var E=F.options;if("scrollbar" in E&&this.navigator){g(true,this.options.scrollbar,E.scrollbar);this.navigator.update({},false);delete E.scrollbar}})}(b));return(function(){}())}));